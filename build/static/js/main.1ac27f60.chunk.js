(this.webpackJsonpokrd=this.webpackJsonpokrd||[]).push([[0],{115:function(e,t,a){e.exports=a(144)},120:function(e,t,a){},142:function(e){e.exports=JSON.parse('{"defaultDialogContent":{"id":0,"title":"","failureMode":"","description":"","category":"fitness","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"dialogContent":{"id":0,"title":"","description":"","category":"","failureMode":"","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"okrList":[{"id":0,"title":"Get Fit and lose weight","description":"Yoyoyoyo","failureMode":"","category":"relationships","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":1,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"fitness","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":2,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"creative","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":3,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"work","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]}],"following":[]}')},143:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(13),r=a.n(i),o=(a(120),a(27)),s=a(28),c=a(30),u=a(29),d=a(31),m=a(104),g=a(202),f=a(35),h=a(15),p=a(5),b=a(192),v=a(214),y=a(105),E=a(187),k=a(56),w=a(186),j=a(198),O=a(200),x=a(145),R=a(180),C=a(181),S=a(182),I=a(183),D=a(184),P=a(185),N=a(207),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.state={page:0,rowsPerPage:10},a.handleChangePage=a.handleChangePage.bind(Object(h.a)(a)),a.handleChangeRowsPerPage=a.handleChangeRowsPerPage.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.following,n=e.name,i=e.initText;return l.a.createElement(x.a,{elevation:0},l.a.createElement(R.a,{className:t.root},l.a.createElement(C.a,{stickyHeader:!0,"aria-label":"simple table",size:"small"},l.a.createElement(S.a,null,l.a.createElement(I.a,null,l.a.createElement(D.a,{className:t.dark},n))),l.a.createElement(P.a,null,0===a.length?l.a.createElement(I.a,null,l.a.createElement(D.a,{align:"center",component:"th",scope:"row"},l.a.createElement(k.a,null,i))):a.slice(this.state.page*this.state.rowsPerPage,(this.state.page+1)*this.state.rowsPerPage).map((function(e){return l.a.createElement(I.a,{key:e},l.a.createElement(D.a,{align:"center",component:"th",scope:"row"},l.a.createElement(w.a,{color:"inherit",href:"/?user="+e},e)))}))))),l.a.createElement(N.a,{rowsPerPageOptions:[5],component:"div",count:a.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(l.a.Component),M=Object(p.a)((function(e){return{root:{minHeight:"200px",textAlign:"center"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},dark:{background:"#333",color:"#fff",fontWeight:800}}}))(K),B=a(98),F=a.n(B),U=a(93),V=a.n(U),T=a(95),W=a.n(T),z=a(94),L=a.n(z),q=a(99),A=a.n(q),H=a(97),Y=a.n(H),G=a(75),_=a.n(G),J=a(96),Q=a.n(J),$=a(76),X=a.n($),Z=a(212),ee=a(208),te=a(204),ae=a(213),ne=a(209),le=a(193),ie=a(194),re=a(191),oe=a(147),se=a(195),ce=a(196),ue=a(197),de=function(e){function t(e){var a;Object(o.a)(this,t);return(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={chips:{relationships:l.a.createElement(Z.a,{style:{background:"#333",color:"#fff"},size:"small",icon:l.a.createElement(V.a,{style:{background:"#333",color:"#fff"}}),label:"Relationships"}),fitness:l.a.createElement(Z.a,{size:"small",style:{background:"#333",color:"#fff"},icon:l.a.createElement(L.a,{style:{background:"#333",color:"#fff"}}),label:"Fitness"}),work:l.a.createElement(Z.a,{style:{background:"#333",color:"#fff"},size:"small",icon:l.a.createElement(W.a,{style:{background:"#333",color:"#fff"}}),label:"Work"}),creative:l.a.createElement(Z.a,{size:"small",style:{background:"#333",color:"#fff"},icon:l.a.createElement(Q.a,{style:{background:"#333",color:"#fff"}}),label:"Creative"}),other:l.a.createElement(Z.a,{size:"small",style:{background:"#333",color:"#fff"},icon:l.a.createElement(Y.a,{style:{background:"#333",color:"#fff"}}),label:"Other"})}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.okrList,i=t.handleOpenDialog,r=t.selfView,o=t.isSignedIn,s=t.userBeingViewed,c=t.isFollowing,u=t.handleFollow,d=c?l.a.createElement(k.a,{variant:"caption"},"Unfollow"):l.a.createElement(k.a,{variant:"caption"},"Follow");return l.a.createElement(x.a,{className:a.root,elevation:0},l.a.createElement(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},l.a.createElement(ee.a,{className:a.brumb,"aria-label":"breadcrumb"},l.a.createElement(k.a,{color:"inherit"},s),l.a.createElement(k.a,{color:"inherit"},"2020"),l.a.createElement(k.a,{color:"textPrimary"},"Q1")),r?"":o&&n.length>0?l.a.createElement(te.a,{className:a.followBox},l.a.createElement(ae.a,{checked:c,onChange:u,value:"follow",color:"primary",inputProps:{"aria-label":"default checkbox"}}),d):""),n.length>0?n.map((function(t){return l.a.createElement(ne.a,{key:t.id,elevation:0},l.a.createElement(le.a,{expandIcon:l.a.createElement(F.a,null),"aria-controls":"panel-"+t.id+"-content",id:"panel-"+t.id+"-header"},l.a.createElement(te.a,{className:a.col},l.a.createElement(te.a,{className:a.heading},l.a.createElement(k.a,{className:a.bold},t.title),l.a.createElement(k.a,{variant:"body2",className:a.description},t.description)),l.a.createElement(te.a,{className:a.bound},e.state.chips[t.category]))),l.a.createElement(ie.a,{className:a.row},l.a.createElement(re.a,null,t.keyResults.map((function(e,t){return l.a.createElement(oe.a,{key:t},l.a.createElement(se.a,null,l.a.createElement(v.a,{variant:"rounded",className:a.darkBackground},l.a.createElement(_.a,null))),l.a.createElement(ce.a,{primary:e.result,secondary:"SYSTEM METRIC : "+e.metric}))}))),l.a.createElement(k.a,{variant:"body2",className:a.description},l.a.createElement("b",null,"Possible Failure Mode : "),t.failureMode),l.a.createElement(b.a,{container:!0,direction:"row",justify:"flex-end",style:{width:"100%",display:"flex"}},r&&o?l.a.createElement(ue.a,{color:"primary","aria-label":"add",className:a.edit,onClick:function(){return i(t.id)}},l.a.createElement(A.a,{size:"small",fontSize:"small"})):"",l.a.createElement(j.a,{style:{marginTop:"20px",width:"100%"}}))))})):l.a.createElement(k.a,null,"No OKRs yet!"),r&&o?l.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(ue.a,{color:"primary","aria-label":"add",className:a.edit,onClick:function(){return i(null)}},l.a.createElement(X.a,null)),l.a.createElement(k.a,{variant:"caption"},"Add New OKR")):"")}}]),t}(l.a.Component),me=Object(p.a)((function(e){return{root:{background:"#fff",padding:"12px"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"10px"},darkBackground:{background:"#333"},dark:{background:"#333",color:"#fff"},edit:{background:"#333",color:"#fff",marginTop:"20px","&:hover":{color:"#333",background:"#fff"}},followBox:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}}))(de),ge=a(82),fe=a.n(ge),he=a(100),pe=a.n(he),be=a(101),ve=a.n(be),ye=a(83),Ee=a.n(ye),ke=a(210),we=a(199),je=a(188),Oe=a(146),xe=a(215),Re=a(201),Ce=a(216),Se=a(206),Ie=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).addKR=function(e){a.setState((function(e){var t=e.keyResults;return t.push({id:t.length,result:"",metric:""}),Object(f.a)({},e,{keyResults:t})}),console.log(a.state))},a.changeCategory=function(e){var t=e.target.value;a.setState({objective:Object(f.a)({},a.state.objective,{category:t})})},a.deleteKR=function(e){var t=a.state.keyResults.filter((function(t){return t.id!==e}));a.setState({keyResults:t})},a.changeTitle=function(e){a.setState({objective:Object(f.a)({},a.state.objective,{title:e.target.value})})},a.changeDescription=function(e){a.setState({objective:Object(f.a)({},a.state.objective,{description:e.target.value})})},a.changeFailureMode=function(e){a.setState({objective:Object(f.a)({},a.state.objective,{failureMode:e.target.value})})},a.changeKRResult=function(e,t){var n=a.state.keyResults.map((function(a,n){return a.id===t&&(a.result=e.target.value),a}));a.setState({keyResults:n})},a.changeKRMetric=function(e,t){var n=a.state.keyResults.map((function(a,n){return a.id===t&&(a.metric=e.target.value),a}));a.setState({keyResults:n})};var n=e.showOKR,l={id:n.id,title:n.title,description:n.description,failureMode:n.failureMode,category:n.category},i=[];return n.keyResults.forEach((function(e,t){i.push({id:t,result:e.result,metric:e.metric})})),a.state={objective:l,keyResults:i},a.addKR=a.addKR.bind(Object(h.a)(a)),a.deleteKR=a.deleteKR.bind(Object(h.a)(a)),a.changeCategory=a.changeCategory.bind(Object(h.a)(a)),a.changeTitle=a.changeTitle.bind(Object(h.a)(a)),a.changeDescription=a.changeDescription.bind(Object(h.a)(a)),a.changeFailureMode=a.changeFailureMode.bind(Object(h.a)(a)),a.changeKRResult=a.changeKRResult.bind(Object(h.a)(a)),a.changeKRMetric=a.changeKRMetric.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.showOKR,a={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category},n=[];t.keyResults.forEach((function(e,t){n.push({id:t,result:e.result,metric:e.metric})})),this.setState({objective:a,keyResults:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.openDialog,i=t.handleCloseDialog;return l.a.createElement(ke.a,{fullScreen:!0,open:n,onClose:function(){return i("old",e.state.objective,e.state.keyResults)}},l.a.createElement(we.a,{className:a.appBar},l.a.createElement(je.a,{className:a.toolBar},l.a.createElement(Oe.a,{edge:"start",color:"inherit",onClick:function(){return i("old",e.state.objective,e.state.keyResults)},"aria-label":"close"},l.a.createElement(fe.a,null)),l.a.createElement(k.a,{variant:"h6",className:a.title},"Edit OKR"),l.a.createElement(O.a,{startIcon:l.a.createElement(Ee.a,null),autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return i("new",e.state.objective,e.state.keyResults)}},"Save"))),l.a.createElement(b.a,{container:!0,direction:"row",justify:"center",className:a.form,spacing:3},l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),l.a.createElement(b.a,{container:!0,item:!0,xs:12,sm:12,md:8,lg:6,xl:6,spacing:3,justify:"center"},l.a.createElement(k.a,{variant:"overline",className:a.obj},"Objective"),l.a.createElement(b.a,{item:!0,container:!0,direction:"row",spacing:3,alignItems:"center",justify:"space-between"},l.a.createElement(b.a,{item:!0,xs:8},l.a.createElement(xe.a,{required:!0,id:"outlined-required",label:"Objective",onChange:this.changeTitle,value:this.state.objective.title,variant:"outlined",fullWidth:!0})),l.a.createElement(b.a,{item:!0,xs:4},l.a.createElement(Re.a,{variant:"outlined",className:a.formControl},l.a.createElement(Ce.a,{id:"demo-simple-select-outlined-label",className:a.category},"Category *"),l.a.createElement(Se.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.objective.category,onChange:this.changeCategory},l.a.createElement(E.a,{value:"relationships"},"Relationships"),l.a.createElement(E.a,{value:"fitness"},"Fitness"),l.a.createElement(E.a,{value:"work"},"Work"),l.a.createElement(E.a,{value:"creative"},"Creative"),l.a.createElement(E.a,{value:"other"},"Other"))))),l.a.createElement(xe.a,{required:!0,id:"outlined-required-decription",label:"Description",onChange:this.changeDescription,value:this.state.objective.description,variant:"outlined",fullWidth:!0,multiline:!0,rows:2}),l.a.createElement(xe.a,{required:!0,id:"outlined-required-failure-mode",label:"Possible Failure Mode",onChange:this.changeFailureMode,value:this.state.objective.failureMode,variant:"outlined",className:a.fail,fullWidth:!0,multiline:!0,rows:2}),l.a.createElement(k.a,{variant:"overline",className:a.obj},"Key Results"),this.state.keyResults.map((function(t,n){return l.a.createElement(b.a,{container:!0,direction:"row",style:{padding:"10px"},key:t.id,alignItems:"center"},l.a.createElement(b.a,{item:!0,container:!0,justify:"center",xs:1,key:n},l.a.createElement(v.a,{variant:"rounded",className:a.dark,key:n},l.a.createElement(_.a,null))),l.a.createElement(b.a,{item:!0,xs:7},l.a.createElement(xe.a,{required:!0,label:"Key Result",onChange:function(a){return e.changeKRResult(a,t.id)},value:t.result,variant:"outlined",style:{width:"100%"}})),l.a.createElement(b.a,{item:!0,xs:3},l.a.createElement(xe.a,{required:!0,label:"System Metric",onChange:function(a){return e.changeKRMetric(a,t.id)},value:t.metric,variant:"outlined",style:{width:"100%"}})),l.a.createElement(b.a,{container:!0,justify:"center",item:!0,xs:1},l.a.createElement(pe.a,{fontSize:"small",onClick:function(){return e.deleteKR(t.id)},className:a.buttonify})))})),l.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",style:{margin:"20px"}},l.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(ue.a,{color:"primary","aria-label":"add",className:a.darkBackground,onClick:this.addKR},l.a.createElement(X.a,null)),l.a.createElement(k.a,{variant:"caption"},"Add New Key Result")),l.a.createElement(b.a,{container:!0,direction:"row",justify:"space-evenly",style:{paddingTop:"50px"}},l.a.createElement(O.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:l.a.createElement(fe.a,null),onClick:function(){return i("old",e.state.objective,e.state.keyResults)}},"Cancel"),l.a.createElement(O.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:l.a.createElement(ve.a,null),onClick:function(){return i("delete",e.state.objective,e.state.keyResults)}},"Delete"),l.a.createElement(O.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:l.a.createElement(Ee.a,null),onClick:function(){return i("new",e.state.objective,e.state.keyResults)}},"Save")))),l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})))}}]),t}(l.a.Component),De=Object(p.a)((function(e){return{root:{background:"#eaeff0",padding:"12px"},bold:{fontWeight:800,padding:"10px"},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{borderRadius:"5px",border:"1px solid #aaa",padding:"10px"},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"20px"},fail:{marginTop:"10px"},darkBackground:{background:"#333","&:hover":{color:"#333",background:"#fff"}},dark:{background:"#333"},appBar:{position:"relative",background:"#333"},toolBar:{justifyContent:"space-between"},form:{padding:"50px"},category:{background:"#fff",padding:"1px"},formControl:{width:"100%"},obj:{paddingTop:"30px",fontSize:"20px",letterSpacing:"10px",textAlign:"center",width:"100%"},buttonify:{cursor:"pointer"}}}))(Ie),Pe=a(84),Ne=a.n(Pe);Ne.a.initializeApp({apiKey:"AIzaSyAHL0vbcWUxeE542F-ROGxw-4IG2OLM9EM",authDomain:"okru-4036a.firebaseapp.com",databaseURL:"https://okru-4036a.firebaseio.com",projectId:"okru-4036a",storageBucket:"okru-4036a.appspot.com",messagingSenderId:"323122678619",appId:"1:323122678619:web:f0624f8e6e26013509287e",measurementId:"G-LGV47H0SJQ"});var Ke=Ne.a,Me=a(85),Be=a.n(Me),Fe=a(102),Ue=a.n(Fe),Ve=a(142),Te=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFollow=function(e){if(a.state.isFollowing){a.setState({isFollowing:!a.state.isFollowing});var t=Object.keys(a.state.followlist).filter((function(e){return console.log(e,a.state.followlist[e]),a.state.followlist[e]==a.state.userBeingViewed}));Ke.database().ref("userlist/"+a.state.user.uid+"/"+t).remove()}else{a.setState({isFollowing:!a.state.isFollowing}),Ke.database().ref("userlist/"+a.state.user.uid).push().set(a.state.userBeingViewed)}},a.handleCloseDialog=function(e,t,n){console.log("closed! NEW",t,n);var l=a.state.showDialogContent,i={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category,keyResults:n},r=a.state.curUserOKRs;null===a.state.showDialogContent?"new"===e&&(i.id=r.length,r.push(i)):("delete"===e&&r.splice(l,1),"old"===e?r[l]=a.state.editOKR:"new"===e&&(r[l]=i)),a.setState(Object(f.a)({},a.state,{showDialog:!1,curUserOKRs:r})),Ke.database().ref("okrs/"+a.state.user.uid).set(Object(f.a)({},r))},a.handleOpenDialog=function(e){a.setState({showDialog:!0}),a.setState({showDialogContent:e}),a.setState({editOKR:a.state.curUserOKRs[e]}),null===e?a.setState({dialogContent:a.state.defaultDialogContent}):a.setState({dialogContent:a.state.curUserOKRs[e]})},a.navHandleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.navHandleClose=function(e){a.setState({anchorEl:null})},a.navSignin=function(){window.location.href="/"};return a.uiConfig={signInFlow:"popup",signInOptions:[Ke.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},a.state=Object(f.a)({isSignedIn:!1,loggedInUser:null,showDialog:!1,showDialogContent:null,curUserOKRs:[],selfView:!1,userlist:[],followlist:{},isFollowing:!1,userRequested:new URLSearchParams(window.location.search).get("user"),userBeingViewed:new URLSearchParams(window.location.search).get("user")},Ve),a.handleCloseDialog=a.handleCloseDialog.bind(Object(h.a)(a)),a.handleOpenDialog=a.handleOpenDialog.bind(Object(h.a)(a)),a.handleFollow=a.handleFollow.bind(Object(h.a)(a)),a.signOut=a.signOut.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"signOut",value:function(){this.setState({isSignedIn:!1}),Ke.auth().signOut()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Ke.auth().onAuthStateChanged((function(t){if(null!==t&&(console.log(t),e.setState({isSignedIn:!!t}),e._isMounted)){e.setState({user:t});var a=Ke.database().ref("users"),n=t.email.split("@")[0].replace(".","");e.setState({loggedInUser:n}),a.child(t.uid).once("value",(function(a){if(a.exists())console.log("user_exists");else{var l={name:t.displayName,firstName:t.displayName.split(" ")[0],photoURL:t.photoURL,email:t.email,uid:t.uid,userID:n};Ke.database().ref("users/"+t.uid).set(l),Ke.database().ref("userlist/all/"+t.uid).set(n)}var i=Ke.database().ref("users/"+t.uid);console.log("users/"+t.uid),i.on("value",(function(a){e.setState({curUser:a.val()},(function(){console.log("user-state-updated!",a.val(),e.state),null===e.state.userRequested?(e.setState({selfView:!0}),e.setState({userBeingViewed:n}),Ke.database().ref("okrs").child(t.uid).once("value",(function(t){null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){console.log("user-okrs-updated!",t.val(),e.state)}))}))):Ke.database().ref("userlist/all").once("value",(function(t){var a=t.val(),l=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==l&&null!==l&&Ke.database().ref("okrs").child(l).once("value",(function(t){e.state.userRequested===n?e.setState({selfView:!0}):e.setState({selfView:!1}),null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){console.log("user-okrs-updated!",t.val(),e.state)}))}))})),Ke.database().ref("userlist/"+t.uid).on("value",(function(t){null!==t.val()?(e.setState({followlist:t.val()},(function(){console.log("follow-list-updated!",t.val())})),Object.values(t.val()).indexOf(e.state.userBeingViewed)>=0&&e.setState({isFollowing:!0})):e.setState({followlist:{}})}))}))}))}))}})),this.state.isSignedIn||null===this.state.userRequested||Ke.database().ref("userlist/all").once("value",(function(t){var a=t.val(),n=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==n&&null!==n&&Ke.database().ref("okrs").child(n).once("value",(function(t){e.setState({selfView:!1}),null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){console.log("user-okrs-updated!",t.val(),e.state)}))}))})),Ke.database().ref("userlist/all").once("value",(function(t){null!==t.val()&&e.setState({userlist:Object.values(t.val())},(function(){console.log("user-list-updated!",Object.values(t.val()))}))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.theme;return console.log("fresh hell :(",this.state),l.a.createElement("div",{className:a.root},this.state.isSignedIn||null!==this.state.userRequested?l.a.createElement(b.a,{container:!0,direction:"column"},this.state.user&&this.state.isSignedIn&&this.state.user.photoURL?l.a.createElement(v.a,{className:a.accountButton,alt:"Remy Sharp",src:this.state.user.photoURL,onClick:this.navHandleClick}):l.a.createElement(Be.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.navHandleClick,className:a.accountButton,fontSize:"large"}),l.a.createElement(y.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.navHandleClose},this.state.isSignedIn?l.a.createElement(E.a,{onClick:function(){console.log("logged out!"),e.signOut(),e.setState({isSignedIn:!1})}},"Logout"):l.a.createElement(E.a,{onClick:this.navSignin},"Login")),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"row"},l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),l.a.createElement(b.a,{item:!0,xs:12,sm:12,md:8,lg:6,xl:6},l.a.createElement(k.a,{variant:"h1",className:a.jumbo},l.a.createElement(w.a,{href:"/",underline:"none",color:"textPrimary"},"okru"))),l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"row",justify:"center",xs:12,sm:12,md:12,lg:12,xl:12},l.a.createElement(b.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1}),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:7,lg:7,xl:7},l.a.createElement(me,{okrList:this.state.curUserOKRs,handleOpenDialog:this.handleOpenDialog,selfView:this.state.selfView,isFollowing:this.state.isFollowing,userBeingViewed:this.state.userBeingViewed,handleFollow:this.handleFollow,isSignedIn:this.state.isSignedIn})),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:3,lg:3,xl:3},l.a.createElement(b.a,{item:!0},l.a.createElement(M,{following:this.state.userlist,name:"All Users",initText:"Loading Users..."})),this.state.isSignedIn?l.a.createElement(b.a,{item:!0},l.a.createElement(M,{following:Object.values(this.state.followlist),name:"Following List",initText:"You're not following anyone!"})):""),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1})),this.state.selfView?l.a.createElement(De,{openDialog:this.state.showDialog,handleCloseDialog:this.handleCloseDialog,showOKR:this.state.dialogContent}):""):l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(k.a,{variant:"h1",className:a.jumbo},l.a.createElement(w.a,{href:"/",underline:"none",color:"textPrimary"},"okru")),l.a.createElement(k.a,{variant:"caption"},"Set Personal OKRs, Be Accountable to Friends"),l.a.createElement(k.a,{variant:"caption"},"Become a Better Version of You"),l.a.createElement(Ue.a,{uiConfig:this.uiConfig,firebaseAuth:Ke.auth()}),l.a.createElement(j.a,{style:{width:"30%",margin:"30px"}}),l.a.createElement(b.a,{item:!0,xs:12,sm:4,md:6,lg:4,xl:4},l.a.createElement(k.a,{variant:"subtitle1"},"This is a ",l.a.createElement("b",null,l.a.createElement("i",null,"Measure What Matters"))," meets ",l.a.createElement("b",null,l.a.createElement("i",null,"Elephant In The Brain"))," meets ",l.a.createElement("b",null,l.a.createElement("i",null,"Atomic Habits"))," effort to use personal OKRs that track System Metrics and positively decieve our silly brains. You can set your quarterly OKRs, pre-commit metrics, estimate possible failure modes and follow your friends."),l.a.createElement(k.a,{variant:"overline"},"More features are coming soon!")),l.a.createElement(O.a,{autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return window.location.href="/?user=vivekaithal44"}},"See a sample OKR")))}}]),t}(l.a.Component),We=Object(p.a)((function(e){return{root:{background:"#fff",flexGrow:1,textAlign:"center",minHeight:"100vh",margin:"0px"},jumbo:{fontWeight:600,cursor:"pointer"},dark:{background:"#333"},accountButton:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"}}}))(Te),ze=(a(143),Object(m.a)({palette:{primary:{main:"#1976d2",light:"rgb(71, 145, 219)",dark:"rgb(17, 82, 147)",contrastText:"#fff"},secondary:{main:"rgb(220, 0, 78)",light:"rgb(227, 51, 113)",dark:"rgb(154, 0, 54)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},chips:{relationships:"#c0392b",fitness:"#f39c12",work:"#2980b9",creative:"#16a085",other:"#2c3e50"}}})),Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={currentPage:window.location.pathname},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return"/"===this.state.currentPage?l.a.createElement(g.a,{theme:ze},l.a.createElement(We,null)):"/account"===this.state.currentPage?l.a.createElement(g.a,{theme:ze},l.a.createElement(We,null)):void 0}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[115,1,2]]]);
//# sourceMappingURL=main.1ac27f60.chunk.js.map