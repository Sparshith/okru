(this.webpackJsonpokrd=this.webpackJsonpokrd||[]).push([[0],{118:function(e,t,a){e.exports=a(147)},123:function(e,t,a){},145:function(e){e.exports=JSON.parse('{"defaultDialogContent":{"id":0,"title":"","failureMode":"","description":"","category":"fitness","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"dialogContent":{"id":0,"title":"","description":"","category":"","failureMode":"","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"okrList":[{"id":0,"title":"Get Fit and lose weight","description":"Yoyoyoyo","failureMode":"","category":"relationships","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":1,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"fitness","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":2,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"creative","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":3,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"work","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]}],"following":[]}')},146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(13),r=a.n(i),o=(a(123),a(27)),s=a(28),c=a(30),u=a(29),d=a(31),m=a(106),g=a(204),f=a(35),h=a(14),p=a(5),b=a(194),v=a(216),y=a(107),E=a(189),k=a(57),w=a(188),x=a(200),j=a(202),O=a(148),R=a(182),S=a(183),C=a(184),D=a(185),I=a(186),F=a(187),K=a(209),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.state={page:0,rowsPerPage:5},a.handleChangePage=a.handleChangePage.bind(Object(h.a)(a)),a.handleChangeRowsPerPage=a.handleChangeRowsPerPage.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.following,n=e.name,i=e.initText;return l.a.createElement(O.a,{elevation:0},l.a.createElement(R.a,{className:t.root},l.a.createElement(S.a,{stickyHeader:!0,"aria-label":"simple table",size:"small"},l.a.createElement(C.a,null,l.a.createElement(D.a,null,l.a.createElement(I.a,{className:t.dark},n))),l.a.createElement(F.a,null,0===a.length?l.a.createElement(D.a,null,l.a.createElement(I.a,{align:"center",component:"th",scope:"row"},l.a.createElement(k.a,null,i))):a.slice(this.state.page*this.state.rowsPerPage,(this.state.page+1)*this.state.rowsPerPage).map((function(e){return l.a.createElement(D.a,{key:e},l.a.createElement(I.a,{align:"center",component:"th",scope:"row"},l.a.createElement(w.a,{color:"inherit",href:"/?user="+e},e)))}))))),l.a.createElement(K.a,{rowsPerPageOptions:[5],component:"div",count:a.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(l.a.Component),N=Object(p.a)((function(e){return{root:{minHeight:"200px",textAlign:"center"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},dark:{background:"#333",color:"#fff",fontWeight:800}}}))(P),M=a(100),B=a.n(M),T=a(94),z=a.n(T),U=a(96),V=a.n(U),L=a(95),W=a.n(L),q=a(101),A=a.n(q),H=a(98),Y=a.n(H),G=a(75),J=a.n(G),_=a(97),Q=a.n(_),$=a(76),X=a.n($),Z=a(99),ee=a.n(Z),te=a(214),ae=a(210),ne=a(195),le=a(206),ie=a(215),re=a(211),oe=a(196),se=a(197),ce=a(193),ue=a(150),de=a(198),me=a(199),ge=a(93),fe=a.n(ge),he=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).printOKR=function(e,t){console.log("print");var a=new fe.a({orientation:"landscape"}),n=(257-2*(e.length-1))/e.length;function l(e){return e+20}function i(e){return e+20}console.log(n,170,a.getFontList()),a.setFont("helvetica"),a.setFontSize(70),a.text(parseInt(148.5),i(0),"okru",{align:"center"}),a.setTextColor("#999"),a.setFontSize(15),a.setFont("courier"),a.text(parseInt(148.5),i(10),t+"/2020/Q1",{align:"center"}),a.setFont("helvetica"),a.setTextColor("#000"),a.setFontStyle("bold"),a.setFontSize(10),a.text(17,i(60),"OBJECTIVES",{rotationDirection:1,angle:90,charSpace:2}),a.text(17,i(140),"KEY RESULTS",{rotationDirection:1,angle:90,charSpace:2}),a.setDrawColor("#aaa"),a.setFontSize(7),a.setFont("courier"),a.text(217,208,"https://okru.app/?user="+t,{charSpace:0}),e.forEach((function(e,t){var r=25;a.setTextColor("#fff"),a.setFont("helvetica"),a.setDrawColor("#000"),a.setFontSize(15),a.roundedRect(l(t*(n+2)),i(15),n,170,3,3,"S"),a.setFillColor("#333"),a.roundedRect(l(t*(n+2)),i(15),n,50,3,3,"F"),a.setFontStyle("bold");for(var o=a.splitTextToSize(e.title,n-6),s=0;s<o.length;s++)a.text(l(t*(n+2)+n/2),i(r),o[s],{align:"center",charSpace:0}),r+=5;a.setFontStyle("normal"),a.setFontSize(10);for(o=a.splitTextToSize(e.description,n-6),s=0;s<o.length;s++)a.text(l(t*(n+2)+n/2),i(r),o[s],{align:"center",charSpace:0}),r+=5;r=75,a.setTextColor("#000"),e.keyResults.forEach((function(e){for(var o=a.splitTextToSize(e.result+" [System Metric : "+e.metric+"] ",n-6),s=0;s<o.length;s++)a.text(l(t*(n+2)+n/2),i(r),o[s],{align:"center",charSpace:0}),r+=5;a.setDrawColor("#aaa"),a.line(l(t*(n+2)+3),i(r),l(t*(n+2)+n-3),i(r),"F"),r+=8}));for(o=a.splitTextToSize("Possible Failure Mode : "+e.failureMode,n-6),s=0;s<o.length;s++)a.text(l(t*(n+2)+n/2),i(r),o[s],{align:"center",charSpace:0}),r+=5})),a.save("okru.pdf")};return a.state={chips:{relationships:l.a.createElement(te.a,{style:{background:"#333",color:"#fff"},size:"small",icon:l.a.createElement(z.a,{style:{background:"#333",color:"#fff"}}),label:"Relationships"}),fitness:l.a.createElement(te.a,{size:"small",style:{background:"#333",color:"#fff"},icon:l.a.createElement(W.a,{style:{background:"#333",color:"#fff"}}),label:"Fitness"}),work:l.a.createElement(te.a,{style:{background:"#333",color:"#fff"},size:"small",icon:l.a.createElement(V.a,{style:{background:"#333",color:"#fff"}}),label:"Work"}),creative:l.a.createElement(te.a,{size:"small",style:{background:"#333",color:"#fff"},icon:l.a.createElement(Q.a,{style:{background:"#333",color:"#fff"}}),label:"Creative"}),other:l.a.createElement(te.a,{size:"small",style:{background:"#333",color:"#fff"},icon:l.a.createElement(Y.a,{style:{background:"#333",color:"#fff"}}),label:"Other"})}},a.printOKR=a.printOKR.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.okrList,i=t.handleOpenDialog,r=t.selfView,o=t.isSignedIn,s=t.userBeingViewed,c=t.isFollowing,u=t.handleFollow,d=c?l.a.createElement(k.a,{variant:"caption"},"Unfollow"):l.a.createElement(k.a,{variant:"caption"},"Follow");return l.a.createElement(O.a,{className:a.root,elevation:0},l.a.createElement(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},l.a.createElement(ae.a,{className:a.brumb,"aria-label":"breadcrumb"},l.a.createElement(k.a,{color:"inherit"},s),l.a.createElement(k.a,{color:"inherit"},"2020"),l.a.createElement(k.a,{color:"textPrimary"},"Q1")),r&&o?l.a.createElement(ne.a,{color:"primary","aria-label":"add",size:"small",className:a.edit,onClick:function(){return e.printOKR(n,s)}},l.a.createElement(ee.a,{fontSize:"small"})):o&&n.length>0?l.a.createElement(le.a,{className:a.followBox},l.a.createElement(ie.a,{checked:c,onChange:u,value:"follow",color:"primary",inputProps:{"aria-label":"default checkbox"}}),d):""),n.length>0?n.map((function(t){return l.a.createElement(re.a,{key:t.id,elevation:0},l.a.createElement(oe.a,{expandIcon:l.a.createElement(B.a,null),"aria-controls":"panel-"+t.id+"-content",id:"panel-"+t.id+"-header"},l.a.createElement(le.a,{className:a.col},l.a.createElement(le.a,{className:a.heading},l.a.createElement(k.a,{className:a.bold},t.title),l.a.createElement(k.a,{variant:"body2",className:a.description},t.description)),l.a.createElement(le.a,{className:a.bound},e.state.chips[t.category]))),l.a.createElement(se.a,{className:a.row},l.a.createElement(ce.a,null,t.keyResults.map((function(e,t){return l.a.createElement(ue.a,{key:t},l.a.createElement(de.a,null,l.a.createElement(v.a,{variant:"rounded",className:a.darkBackground},l.a.createElement(J.a,null))),l.a.createElement(me.a,{primary:e.result,secondary:"System Metric : "+e.metric}))}))),l.a.createElement(k.a,{variant:"body2",className:a.description},l.a.createElement("b",null,"Possible Failure Mode : "),t.failureMode),l.a.createElement(b.a,{container:!0,direction:"row",justify:"flex-end",style:{width:"100%",display:"flex"}},r&&o?l.a.createElement(ne.a,{size:"small",color:"primary","aria-label":"add",className:a.edit,onClick:function(){return i(t.id)}},l.a.createElement(A.a,{fontSize:"small"})):"",l.a.createElement(x.a,{style:{marginTop:"20px",width:"100%"}}))))})):l.a.createElement(k.a,null,"No OKRs yet!"),r&&o?l.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(ne.a,{color:"primary","aria-label":"add",className:a.edit,onClick:function(){return i(null)}},l.a.createElement(X.a,null)),l.a.createElement(k.a,{variant:"caption"},"Add New OKR")):"")}}]),t}(l.a.Component),pe=Object(p.a)((function(e){return{root:{background:"#fff",padding:"12px"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"10px",textAlign:"left"},darkBackground:{background:"#333"},dark:{background:"#333",color:"#fff"},edit:{background:"#333",color:"#fff",boxShadow:"none","&:hover":{color:"#333",background:"#fff"}},followBox:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}}))(he),be=a(83),ve=a.n(be),ye=a(102),Ee=a.n(ye),ke=a(103),we=a.n(ke),xe=a(84),je=a.n(xe),Oe=a(212),Re=a(201),Se=a(190),Ce=a(149),De=a(217),Ie=a(203),Fe=a(218),Ke=a(208),Pe=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).addKR=function(e){a.setState((function(e){var t=e.keyResults;return t.push({id:t.length,result:"",metric:""}),Object(f.a)({},e,{keyResults:t})}),console.log(a.state))},a.changeCategory=function(e){var t=e.target.value;a.setState({objective:Object(f.a)({},a.state.objective,{category:t})})},a.deleteKR=function(e){var t=a.state.keyResults.filter((function(t){return t.id!==e}));a.setState({keyResults:t})},a.changeTitle=function(e){a.setState({objective:Object(f.a)({},a.state.objective,{title:e.target.value})})},a.changeDescription=function(e){a.setState({objective:Object(f.a)({},a.state.objective,{description:e.target.value})})},a.changeFailureMode=function(e){a.setState({objective:Object(f.a)({},a.state.objective,{failureMode:e.target.value})})},a.changeKRResult=function(e,t){var n=a.state.keyResults.map((function(a,n){return a.id===t&&(a.result=e.target.value),a}));a.setState({keyResults:n})},a.changeKRMetric=function(e,t){var n=a.state.keyResults.map((function(a,n){return a.id===t&&(a.metric=e.target.value),a}));a.setState({keyResults:n})};var n=e.showOKR,l={id:n.id,title:n.title,description:n.description,failureMode:n.failureMode,category:n.category},i=[];return n.keyResults.forEach((function(e,t){i.push({id:t,result:e.result,metric:e.metric})})),a.state={objective:l,keyResults:i},a.addKR=a.addKR.bind(Object(h.a)(a)),a.deleteKR=a.deleteKR.bind(Object(h.a)(a)),a.changeCategory=a.changeCategory.bind(Object(h.a)(a)),a.changeTitle=a.changeTitle.bind(Object(h.a)(a)),a.changeDescription=a.changeDescription.bind(Object(h.a)(a)),a.changeFailureMode=a.changeFailureMode.bind(Object(h.a)(a)),a.changeKRResult=a.changeKRResult.bind(Object(h.a)(a)),a.changeKRMetric=a.changeKRMetric.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.showOKR,a={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category},n=[];t.keyResults.forEach((function(e,t){n.push({id:t,result:e.result,metric:e.metric})})),this.setState({objective:a,keyResults:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.openDialog,i=t.handleCloseDialog;return l.a.createElement(Oe.a,{fullScreen:!0,open:n,onClose:function(){return i("old",e.state.objective,e.state.keyResults)}},l.a.createElement(Re.a,{className:a.appBar},l.a.createElement(Se.a,{className:a.toolBar},l.a.createElement(Ce.a,{edge:"start",color:"inherit",onClick:function(){return i("old",e.state.objective,e.state.keyResults)},"aria-label":"close"},l.a.createElement(ve.a,null)),l.a.createElement(k.a,{variant:"h6",className:a.title},"Edit OKR"),l.a.createElement(j.a,{startIcon:l.a.createElement(je.a,null),autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return i("new",e.state.objective,e.state.keyResults)}},"Save"))),l.a.createElement(b.a,{container:!0,direction:"row",justify:"center",className:a.form,spacing:3},l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),l.a.createElement(b.a,{container:!0,item:!0,xs:12,sm:12,md:8,lg:6,xl:6,spacing:3,justify:"center"},l.a.createElement(k.a,{variant:"overline",className:a.obj},"Objective"),l.a.createElement(b.a,{item:!0,container:!0,direction:"row",spacing:3,alignItems:"center",justify:"space-between"},l.a.createElement(b.a,{item:!0,xs:8},l.a.createElement(De.a,{required:!0,id:"outlined-required",label:"Objective",onChange:this.changeTitle,value:this.state.objective.title,variant:"outlined",fullWidth:!0})),l.a.createElement(b.a,{item:!0,xs:4},l.a.createElement(Ie.a,{variant:"outlined",className:a.formControl},l.a.createElement(Fe.a,{id:"demo-simple-select-outlined-label",className:a.category},"Category *"),l.a.createElement(Ke.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.objective.category,onChange:this.changeCategory},l.a.createElement(E.a,{value:"relationships"},"Relationships"),l.a.createElement(E.a,{value:"fitness"},"Fitness"),l.a.createElement(E.a,{value:"work"},"Work"),l.a.createElement(E.a,{value:"creative"},"Creative"),l.a.createElement(E.a,{value:"other"},"Other"))))),l.a.createElement(De.a,{required:!0,id:"outlined-required-decription",label:"Description",onChange:this.changeDescription,value:this.state.objective.description,variant:"outlined",fullWidth:!0,multiline:!0,rows:2}),l.a.createElement(De.a,{required:!0,id:"outlined-required-failure-mode",label:"Possible Failure Mode",onChange:this.changeFailureMode,value:this.state.objective.failureMode,variant:"outlined",className:a.fail,fullWidth:!0,multiline:!0,rows:2}),l.a.createElement(k.a,{variant:"overline",className:a.obj},"Key Results"),this.state.keyResults.map((function(t,n){return l.a.createElement(b.a,{container:!0,direction:"row",style:{padding:"10px"},key:t.id,alignItems:"center"},l.a.createElement(b.a,{item:!0,container:!0,justify:"center",xs:1,key:n},l.a.createElement(v.a,{variant:"rounded",className:a.dark,key:n},l.a.createElement(J.a,null))),l.a.createElement(b.a,{item:!0,xs:7},l.a.createElement(De.a,{required:!0,label:"Key Result",onChange:function(a){return e.changeKRResult(a,t.id)},value:t.result,variant:"outlined",style:{width:"100%"}})),l.a.createElement(b.a,{item:!0,xs:3},l.a.createElement(De.a,{required:!0,label:"System Metric",onChange:function(a){return e.changeKRMetric(a,t.id)},value:t.metric,variant:"outlined",style:{width:"100%"}})),l.a.createElement(b.a,{container:!0,justify:"center",item:!0,xs:1},l.a.createElement(Ee.a,{fontSize:"small",onClick:function(){return e.deleteKR(t.id)},className:a.buttonify})))})),l.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",style:{margin:"20px"}},l.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},l.a.createElement(ne.a,{color:"primary","aria-label":"add",className:a.darkBackground,onClick:this.addKR},l.a.createElement(X.a,null)),l.a.createElement(k.a,{variant:"caption"},"Add New Key Result")),l.a.createElement(b.a,{container:!0,direction:"row",justify:"space-evenly",style:{paddingTop:"50px"}},l.a.createElement(j.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:l.a.createElement(ve.a,null),onClick:function(){return i("old",e.state.objective,e.state.keyResults)}},"Cancel"),l.a.createElement(j.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:l.a.createElement(we.a,null),onClick:function(){return i("delete",e.state.objective,e.state.keyResults)}},"Delete"),l.a.createElement(j.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:l.a.createElement(je.a,null),onClick:function(){return i("new",e.state.objective,e.state.keyResults)}},"Save")))),l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})))}}]),t}(l.a.Component),Ne=Object(p.a)((function(e){return{root:{background:"#eaeff0",padding:"12px"},bold:{fontWeight:800,padding:"10px"},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{borderRadius:"5px",border:"1px solid #aaa",padding:"10px"},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"20px"},fail:{marginTop:"10px"},darkBackground:{background:"#333","&:hover":{color:"#333",background:"#fff"}},dark:{background:"#333"},appBar:{position:"relative",background:"#333"},toolBar:{justifyContent:"space-between"},form:{padding:"50px"},category:{background:"#fff",padding:"1px"},formControl:{width:"100%"},obj:{paddingTop:"30px",fontSize:"20px",letterSpacing:"10px",textAlign:"center",width:"100%"},buttonify:{cursor:"pointer"}}}))(Pe),Me=a(77),Be=a.n(Me);Be.a.initializeApp({apiKey:"AIzaSyAHL0vbcWUxeE542F-ROGxw-4IG2OLM9EM",authDomain:"okru-4036a.firebaseapp.com",databaseURL:"https://okru-4036a.firebaseio.com",projectId:"okru-4036a",storageBucket:"okru-4036a.appspot.com",messagingSenderId:"323122678619",appId:"1:323122678619:web:f0624f8e6e26013509287e",measurementId:"G-LGV47H0SJQ"}),Be.a.analytics();var Te=Be.a,ze=a(85),Ue=a.n(ze),Ve=a(104),Le=a.n(Ve),We=a(145),qe=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFollow=function(e){if(a.state.isFollowing){a.setState({isFollowing:!a.state.isFollowing});var t=Object.keys(a.state.followlist).filter((function(e){return console.log(e,a.state.followlist[e]),a.state.followlist[e]==a.state.userBeingViewed}));Te.database().ref("userlist/"+a.state.user.uid+"/"+t).remove()}else{a.setState({isFollowing:!a.state.isFollowing}),Te.database().ref("userlist/"+a.state.user.uid).push().set(a.state.userBeingViewed)}},a.handleCloseDialog=function(e,t,n){console.log("closed! NEW",t,n);var l=a.state.showDialogContent,i={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category,keyResults:n},r=a.state.curUserOKRs;null===a.state.showDialogContent?"new"===e&&(i.id=r.length,r.push(i)):("delete"===e&&r.splice(l,1),"old"===e?r[l]=a.state.editOKR:"new"===e&&(r[l]=i)),a.setState(Object(f.a)({},a.state,{showDialog:!1,curUserOKRs:r})),Te.database().ref("okrs/"+a.state.user.uid).set(Object(f.a)({},r))},a.handleOpenDialog=function(e){a.setState({showDialog:!0}),a.setState({showDialogContent:e}),a.setState({editOKR:a.state.curUserOKRs[e]}),null===e?a.setState({dialogContent:a.state.defaultDialogContent}):a.setState({dialogContent:a.state.curUserOKRs[e]})},a.navHandleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.navHandleClose=function(e){a.setState({anchorEl:null})},a.navSignin=function(){window.location.href="/"};return a.uiConfig={signInFlow:"popup",signInOptions:[Te.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},a.state=Object(f.a)({isSignedIn:!1,loggedInUser:null,showDialog:!1,showDialogContent:null,curUserOKRs:[],selfView:!1,userlist:[],followlist:{},isFollowing:!1,userRequested:new URLSearchParams(window.location.search).get("user"),userBeingViewed:new URLSearchParams(window.location.search).get("user")},We),a.handleCloseDialog=a.handleCloseDialog.bind(Object(h.a)(a)),a.handleOpenDialog=a.handleOpenDialog.bind(Object(h.a)(a)),a.handleFollow=a.handleFollow.bind(Object(h.a)(a)),a.signOut=a.signOut.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"signOut",value:function(){this.setState({isSignedIn:!1}),Te.auth().signOut()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Te.auth().onAuthStateChanged((function(t){if(null!==t&&(console.log(t),e.setState({isSignedIn:!!t}),e._isMounted)){e.setState({user:t});var a=Te.database().ref("users"),n=t.email.split("@")[0].replace(".","");e.setState({loggedInUser:n}),a.child(t.uid).once("value",(function(a){if(a.exists())console.log("user_exists");else{var l={name:t.displayName,firstName:t.displayName.split(" ")[0],photoURL:t.photoURL,email:t.email,uid:t.uid,userID:n};Te.database().ref("users/"+t.uid).set(l),Te.database().ref("userlist/all/"+t.uid).set(n)}var i=Te.database().ref("users/"+t.uid);console.log("users/"+t.uid),i.on("value",(function(a){e.setState({curUser:a.val()},(function(){console.log("user-state-updated!",a.val(),e.state),null===e.state.userRequested?(e.setState({selfView:!0}),e.setState({userBeingViewed:n}),Te.database().ref("okrs").child(t.uid).once("value",(function(t){null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){console.log("user-okrs-updated!",t.val(),e.state)}))}))):Te.database().ref("userlist/all").once("value",(function(t){var a=t.val(),l=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==l&&null!==l&&Te.database().ref("okrs").child(l).once("value",(function(t){e.state.userRequested===n?e.setState({selfView:!0}):e.setState({selfView:!1}),null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){console.log("user-okrs-updated!",t.val(),e.state)}))}))})),Te.database().ref("userlist/"+t.uid).on("value",(function(t){null!==t.val()?(e.setState({followlist:t.val()},(function(){console.log("follow-list-updated!",t.val())})),Object.values(t.val()).indexOf(e.state.userBeingViewed)>=0&&e.setState({isFollowing:!0})):e.setState({followlist:{}})}))}))}))}))}})),this.state.isSignedIn||null===this.state.userRequested||Te.database().ref("userlist/all").once("value",(function(t){var a=t.val(),n=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==n&&null!==n&&Te.database().ref("okrs").child(n).once("value",(function(t){e.setState({selfView:!1}),null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){console.log("user-okrs-updated!",t.val(),e.state)}))}))})),Te.database().ref("userlist/all").once("value",(function(t){null!==t.val()&&e.setState({userlist:Object.values(t.val())},(function(){console.log("user-list-updated!",Object.values(t.val()))}))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.theme;return console.log("fresh hell :(",this.state),l.a.createElement("div",{className:a.root},this.state.isSignedIn||null!==this.state.userRequested?l.a.createElement(b.a,{container:!0,direction:"column"},this.state.user&&this.state.isSignedIn&&this.state.user.photoURL?l.a.createElement(v.a,{className:a.accountButton,alt:"Remy Sharp",src:this.state.user.photoURL,onClick:this.navHandleClick}):l.a.createElement(Ue.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.navHandleClick,className:a.accountButton,fontSize:"large"}),l.a.createElement(y.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.navHandleClose},this.state.isSignedIn?l.a.createElement(E.a,{onClick:function(){console.log("logged out!"),e.signOut(),e.setState({isSignedIn:!1})}},"Logout"):l.a.createElement(E.a,{onClick:this.navSignin},"Login")),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"row"},l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),l.a.createElement(b.a,{item:!0,xs:12,sm:12,md:8,lg:6,xl:6},l.a.createElement(k.a,{variant:"h1",className:a.jumbo},l.a.createElement(w.a,{href:"/",underline:"none",color:"textPrimary"},"okru"))),l.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"row",justify:"center",xs:12,sm:12,md:12,lg:12,xl:12},l.a.createElement(b.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1}),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:7,lg:7,xl:7},l.a.createElement(pe,{okrList:this.state.curUserOKRs,handleOpenDialog:this.handleOpenDialog,selfView:this.state.selfView,isFollowing:this.state.isFollowing,userBeingViewed:this.state.userBeingViewed,handleFollow:this.handleFollow,isSignedIn:this.state.isSignedIn})),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:3,lg:3,xl:3},l.a.createElement(b.a,{item:!0},l.a.createElement(N,{following:this.state.userlist,name:"All Users",initText:"Loading Users..."})),this.state.isSignedIn?l.a.createElement(b.a,{item:!0},l.a.createElement(N,{following:Object.values(this.state.followlist),name:"Following List",initText:"You're not following anyone!"})):""),l.a.createElement(b.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1})),this.state.selfView?l.a.createElement(Ne,{openDialog:this.state.showDialog,handleCloseDialog:this.handleCloseDialog,showOKR:this.state.dialogContent}):""):l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(k.a,{variant:"h1",className:a.jumbo},l.a.createElement(w.a,{href:"/",underline:"none",color:"textPrimary"},"okru")),l.a.createElement(k.a,{variant:"caption"},"Set Personal OKRs, Be Accountable to Friends"),l.a.createElement(k.a,{variant:"caption"},"Become a Better Version of You"),l.a.createElement(Le.a,{uiConfig:this.uiConfig,firebaseAuth:Te.auth()}),l.a.createElement(x.a,{style:{width:"30%",margin:"30px"}}),l.a.createElement(b.a,{container:!0,direction:"column",item:!0,xs:10,sm:6,md:6,lg:4,xl:4},l.a.createElement(k.a,{variant:"subtitle1"},"This is a ",l.a.createElement("b",null,l.a.createElement("i",null,"Measure What Matters"))," meets ",l.a.createElement("b",null,l.a.createElement("i",null,"Elephant In The Brain"))," meets ",l.a.createElement("b",null,l.a.createElement("i",null,"Atomic Habits"))," effort to use personal OKRs that track System Metrics and positively decieve our silly brains. You can set your quarterly OKRs, pre-commit metrics, estimate possible failure modes and follow your friends."),l.a.createElement(k.a,{variant:"overline"},"More features are coming soon!"),l.a.createElement(j.a,{autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return window.location.href="/?user=vivekaithal44"}},"See a sample OKR"))))}}]),t}(l.a.Component),Ae=Object(p.a)((function(e){return{root:{background:"#fff",flexGrow:1,textAlign:"center",minHeight:"100vh",margin:"0px"},jumbo:{fontWeight:600,cursor:"pointer"},dark:{background:"#333"},accountButton:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"}}}))(qe),He=(a(146),Object(m.a)({palette:{primary:{main:"#1976d2",light:"rgb(71, 145, 219)",dark:"rgb(17, 82, 147)",contrastText:"#fff"},secondary:{main:"rgb(220, 0, 78)",light:"rgb(227, 51, 113)",dark:"rgb(154, 0, 54)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},chips:{relationships:"#c0392b",fitness:"#f39c12",work:"#2980b9",creative:"#16a085",other:"#2c3e50"}}})),Ye=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={currentPage:window.location.pathname},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return"/"===this.state.currentPage?l.a.createElement(g.a,{theme:He},l.a.createElement(Ae,null)):"/account"===this.state.currentPage?l.a.createElement(g.a,{theme:He},l.a.createElement(Ae,null)):void 0}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[118,1,2]]]);
//# sourceMappingURL=main.47dd8196.chunk.js.map