(this.webpackJsonpokrd=this.webpackJsonpokrd||[]).push([[0],{232:function(e,t,a){e.exports=a.p+"static/media/intuition.55342729.mp3"},294:function(e,t,a){e.exports=a(494)},299:function(e,t,a){},492:function(e){e.exports=JSON.parse('{"defaultDialogContent":{"id":0,"title":"","failureMode":"","description":"","category":"fitness","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"dialogContent":{"id":0,"title":"","description":"","category":"","failureMode":"","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"okrList":[{"id":0,"title":"Get Fit and lose weight","description":"Yoyoyoyo","failureMode":"","category":"relationships","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":1,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"fitness","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":2,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"creative","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":3,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"work","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]}],"following":[],"week":[2,2,1,2,1,0,0,1,-1,-1,-1,-1,-1]}')},493:function(e,t,a){},494:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),i=a.n(s),o=(a(299),a(25)),l=a(26),c=a(28),u=a(27),m=a(252),d=a(560),p=a(23),h=a(16),f=a(6),g=a(541),b=a(576),v=a(253),y=a(549),E=a(496),w=a(548),x=a(558),k=a(559),P=a(554),C=a(557),j=a(254),S=a(536),O=a(537),R=a(538),D=a(539),T=a(540),I=a(570),U=a(547),N=a(565),M=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.handleSearch=function(e){if(n.setState({searchValue:e.target.value}),""===e.target.value)n.setState({following:n.state.followingRaw});else{var t=n.state.followingRaw.filter((function(t){return t.includes(e.target.value)}));n.setState({following:t})}},n.state={page:0,rowsPerPage:5,searchValue:"",following:[],followingRaw:[]},n.handleChangePage=n.handleChangePage.bind(Object(h.a)(n)),n.handleChangeRowsPerPage=n.handleChangeRowsPerPage.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.following;this.setState({following:t,followingRaw:t})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.following,e.name),n=e.initText;return r.a.createElement(j.a,{elevation:0},r.a.createElement(S.a,{className:t.root},r.a.createElement(O.a,{stickyHeader:!0,"aria-label":"simple table",size:"small"},r.a.createElement(R.a,null,r.a.createElement(D.a,null,r.a.createElement(T.a,{className:t.dark,style:{borderRadius:"5px"}},r.a.createElement(g.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(E.a,null,a),r.a.createElement(I.a,{id:"standard-basic",variant:"outlined",size:"small",label:"Search",className:t.search,InputLabelProps:{style:{color:"#fff",paddingLeft:"10px"}},InputProps:{style:{color:"#fff"}},value:this.state.searchValue,onChange:this.handleSearch}))))),r.a.createElement(U.a,null,0===this.state.following.length?r.a.createElement(D.a,null,r.a.createElement(T.a,{align:"center",component:"th",scope:"row"},r.a.createElement(E.a,null,n))):this.state.following.slice(this.state.page*this.state.rowsPerPage,(this.state.page+1)*this.state.rowsPerPage).map((function(e){return r.a.createElement(D.a,{key:e},r.a.createElement(T.a,{align:"center",component:"th",scope:"row"},r.a.createElement(w.a,{color:"inherit",href:"/?m=okrs&user="+e},e)))}))))),r.a.createElement(N.a,{rowsPerPageOptions:[5],component:"div",count:this.state.following.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),a}(r.a.Component),F=Object(f.a)((function(e){return{root:{maxHeight:"220px",textAlign:"center"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},dark:{background:"#333",color:"#fff",fontWeight:800},search:{color:"#fff",background:"#222",borderRadius:"3px",width:"50%"}}}))(M),K=a(229),z=a.n(K),q=a(223),W=a.n(q),L=a(225),B=a.n(L),A=a(224),Y=a.n(A),H=a(126),G=a.n(H),V=a(227),Q=a.n(V),J=a(226),_=a.n(J),$=a(127),X=a.n($),Z=a(228),ee=a.n(Z),te=a(230),ae=a.n(te),ne=a(125),re=a.n(ne),se=a(573),ie=a(566),oe=a(551),le=a(562),ce=a(574),ue=a(567),me=a(552),de=a(553),pe=a(546),he=a(498),fe=a(222),ge=a.n(fe),be=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).printOKR=function(e,t){var a=new ge.a({orientation:"landscape"}),n=(257-2*(e.length-1))/e.length;function r(e){return e+20}function s(e){return e+20}a.setFont("helvetica"),a.setFontSize(70),a.text(parseInt(148.5),s(0),"okru",{align:"center"}),a.setTextColor("#999"),a.setFontSize(15),a.setFont("courier"),a.text(parseInt(148.5),s(10),t+"/2020/Q1",{align:"center"}),a.setFont("helvetica"),a.setTextColor("#000"),a.setFontStyle("bold"),a.setFontSize(10),a.text(17,s(60),"OBJECTIVES",{rotationDirection:1,angle:90,charSpace:2}),a.text(17,s(140),"KEY RESULTS",{rotationDirection:1,angle:90,charSpace:2}),a.setDrawColor("#aaa"),a.setFontSize(7),a.setFont("courier"),a.text(217,208,"https://okru.app/?user="+t,{charSpace:0}),e.forEach((function(e,t){var i=25;a.setTextColor("#fff"),a.setFont("helvetica"),a.setDrawColor("#000"),a.setFontSize(15),a.roundedRect(r(t*(n+2)),s(15),n,170,3,3,"S"),a.setFillColor("#333"),a.roundedRect(r(t*(n+2)),s(15),n,50,3,3,"F"),a.setFontStyle("bold");for(var o=a.splitTextToSize(e.title,n-6),l=0;l<o.length;l++)a.text(r(t*(n+2)+n/2),s(i),o[l],{align:"center",charSpace:0}),i+=5;a.setFontStyle("normal"),a.setFontSize(10);for(o=a.splitTextToSize(e.description,n-6),l=0;l<o.length;l++)a.text(r(t*(n+2)+n/2),s(i),o[l],{align:"center",charSpace:0}),i+=5;i=75,a.setTextColor("#000"),e.keyResults.forEach((function(e){for(var o=a.splitTextToSize(e.result+" [System Metric : "+e.metric+"] ",n-6),l=0;l<o.length;l++)a.text(r(t*(n+2)+n/2),s(i),o[l],{align:"center",charSpace:0}),i+=5;a.setDrawColor("#aaa"),a.line(r(t*(n+2)+3),s(i),r(t*(n+2)+n-3),s(i),"F"),i+=8}));for(o=a.splitTextToSize("Possible Failure Mode : "+e.failureMode,n-6),l=0;l<o.length;l++)a.text(r(t*(n+2)+n/2),s(i),o[l],{align:"center",charSpace:0}),i+=5})),a.save("okru.pdf")},n.findWeeksinQuarter=function(e,t){var a,n,r=new Date(t,0,1);"Q1"===e?(a=new Date(t,0,1),n=new Date(t,2,31)):"Q2"===e?(a=new Date(t,3,1),n=new Date(t,5,30)):"Q3"===e?(a=new Date(t,6,1),n=new Date(t,8,30)):"Q4"===e&&(a=new Date(t,9,1),n=new Date(t,11,31));var s=Math.ceil((a-r+864e5)/864e5/7);return Math.ceil((n-r+864e5)/864e5/7)-s+1},n.findWidth=function(e,t){var a=[0,0,0,0];return e.keyResults.map((function(e){e.progress.map((function(e){a[e]+=1}))})),200*a[t]/a.reduce((function(e,t){return e+t}))};return n.state={chips:{relationships:r.a.createElement(se.a,{style:{background:"#eee",color:"#000"},size:"small",icon:r.a.createElement(W.a,{style:{color:"#000"}}),label:"Relationships"}),fitness:r.a.createElement(se.a,{size:"small",style:{background:"#eee",color:"#000"},icon:r.a.createElement(Y.a,{style:{color:"#000"}}),label:"Fitness"}),work:r.a.createElement(se.a,{style:{background:"#eee",color:"#000"},size:"small",icon:r.a.createElement(B.a,{style:{color:"#000"}}),label:"Work"}),creative:r.a.createElement(se.a,{size:"small",style:{background:"#eee",color:"#000"},icon:r.a.createElement(_.a,{style:{color:"#000"}}),label:"Creative"}),other:r.a.createElement(se.a,{size:"small",style:{background:"#eee",color:"#000"},icon:r.a.createElement(Q.a,{style:{color:"#000"}}),label:"Other"})}},n.printOKR=n.printOKR.bind(Object(h.a)(n)),n.findWeeksinQuarter=n.findWeeksinQuarter.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.okrList,s=t.handleOpenDialog,i=t.selfView,o=t.isSignedIn,l=t.userBeingViewed,c=t.isFollowing,u=t.handleFollow,m=t.quarter,d=t.year,p=t.updateProgress,h=c?r.a.createElement(E.a,{variant:"caption"},"Unfollow"):r.a.createElement(E.a,{variant:"caption"},"Follow");return r.a.createElement(j.a,{className:a.root,elevation:0},r.a.createElement(g.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(ie.a,{className:a.brumb,"aria-label":"breadcrumb"},r.a.createElement(E.a,{color:"inherit"},"OKRs"),r.a.createElement(E.a,{color:"inherit"},l),r.a.createElement(E.a,{color:"inherit"},d),r.a.createElement(E.a,{color:"textPrimary"},m)),i&&o?r.a.createElement(oe.a,{color:"primary","aria-label":"add",size:"small",className:a.edit,onClick:function(){return e.printOKR(n,l)}},r.a.createElement(ee.a,{fontSize:"small"})):o?r.a.createElement(le.a,{className:a.followBox},r.a.createElement(ce.a,{checked:c,onChange:u,value:"follow",color:"primary",inputProps:{"aria-label":"default checkbox"}}),h):""),n.length>0?n.map((function(t,n){return r.a.createElement(ue.a,{key:t.id,elevation:0},r.a.createElement(me.a,{expandIcon:r.a.createElement(z.a,null),"aria-controls":"panel-"+t.id+"-content",id:"panel-"+t.id+"-header"},r.a.createElement(le.a,{className:a.col},r.a.createElement(le.a,{className:a.heading},r.a.createElement(g.a,{container:!0,direction:"row"},r.a.createElement(E.a,{className:a.bold},t.title),r.a.createElement(g.a,{container:!0,direction:"row"},r.a.createElement(g.a,{className:a.progressGrid,style:{background:"#c0392b",width:e.findWidth(t,1)}}),r.a.createElement(g.a,{className:a.progressGrid,style:{background:"#f1c40f",width:e.findWidth(t,2)}}),r.a.createElement(g.a,{className:a.progressGrid,style:{background:"#27ae60",width:e.findWidth(t,3)}}),r.a.createElement(g.a,{className:a.progressGrid,style:{background:"#bdc3c7",width:e.findWidth(t,0)}}))),r.a.createElement(E.a,{variant:"body2",className:a.description},t.description)),r.a.createElement(le.a,{className:a.bound},e.state.chips[t.category]))),r.a.createElement(de.a,{className:a.row},r.a.createElement(pe.a,null,t.keyResults.map((function(e,t){return r.a.createElement(he.a,{key:t,className:a.kr},r.a.createElement(g.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start"},r.a.createElement(E.a,null,e.result),r.a.createElement(se.a,{icon:r.a.createElement(ae.a,null),label:r.a.createElement(E.a,{variant:"caption"},"System Metric : ",r.a.createElement(E.a,{variant:"button"},e.metric)),size:"small",color:"default"}),r.a.createElement(g.a,{container:!0,direction:"row"},e.progress.map((function(e,s){var i,o=r.a.createElement(E.a,{variant:"caption"},"W"+(s+1));i=0===e?"#bdc3c7":1===e?"#c0392b":2===e?"#f1c40f":"#27ae60";var l=r.a.createElement(re.a,{onClick:function(){return p(n,t,s)},fontSize:"small",key:100*n+10*t+s,style:{color:i}});return r.a.createElement(g.a,{container:!0,direction:"column",key:100*n+10*t+s,className:a.bubbles,alignItems:"center"},l,o)})))))}))),r.a.createElement(E.a,{variant:"body2",className:a.descriptionPFM},r.a.createElement("b",null,"Possible Failure Mode : "),t.failureMode),r.a.createElement(g.a,{container:!0,direction:"row",justify:"flex-end",style:{width:"100%",display:"flex"}},i&&o?r.a.createElement(oe.a,{size:"small",color:"primary","aria-label":"add",className:a.edit,onClick:function(){return s(t.id)}},r.a.createElement(G.a,{fontSize:"small"})):"",r.a.createElement(P.a,{style:{marginTop:"20px",width:"100%"}}))))})):r.a.createElement(E.a,null,"No OKRs yet!"),i&&o?r.a.createElement(g.a,{container:!0,direction:"column",alignItems:"center",justify:"center",className:a.homeAdd},r.a.createElement(oe.a,{color:"primary","aria-label":"add",className:a.edit,onClick:function(){return s(null)}},r.a.createElement(X.a,null)),r.a.createElement(E.a,{variant:"caption"},"Add New OKR")):"")}}]),a}(r.a.Component),ve=Object(f.a)((function(e){return{root:{background:"#fff",padding:"12px"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"10px",textAlign:"left"},descriptionPFM:{paddingBottom:"10px",textAlign:"left",borderLeft:"5px #c0392b solid",paddingLeft:"20px"},darkBackground:{background:"#333"},dark:{background:"#333",color:"#fff"},edit:{background:"#333",color:"#fff",boxShadow:"none","&:hover":{color:"#333",background:"#fff"}},followBox:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},homeAdd:{margin:"50px"},kr:{borderLeft:"5px #000 solid",paddingLeft:"20px",marginBottom:"10px"},bubbles:{flex:0,paddingRight:"10px",paddingTop:"10px",cursor:"pointer"},progressGrid:{height:"5px",borderRadius:"5px"}}}))(be),ye=a(231),Ee=a.n(ye),we=a(232),xe=a.n(we),ke=a(575),Pe=a(555),Ce=a(130),je=a.n(Ce);je.a.initializeApp({apiKey:"AIzaSyAHL0vbcWUxeE542F-ROGxw-4IG2OLM9EM",authDomain:"okru-4036a.firebaseapp.com",databaseURL:"https://okru-4036a.firebaseio.com",projectId:"okru-4036a",storageBucket:"okru-4036a.appspot.com",messagingSenderId:"323122678619",appId:"1:323122678619:web:f0624f8e6e26013509287e",measurementId:"G-LGV47H0SJQ"}),je.a.analytics();var Se=je.a,Oe=a(43),Re=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={following:[]},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.following;this.setState({following:t})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.time,n=e.status,s=a/25*360+180,i=a>0?r.a.createElement(Oe.c,{width:200,height:160},r.a.createElement(Oe.b,{cx:100,cy:80,outerRadius:70,innerRadius:60,startAngle:180,endAngle:s,fill:"#c0392b",cornerRadius:5,dataKey:"value",data:[{name:"time",value:a}]},"inprogress"==n?r.a.createElement(Oe.a,{value:"In Progress",position:"center",className:t.sub3}):r.a.createElement(Oe.a,{value:"Paused",position:"center",className:t.sub3}),r.a.createElement(Oe.a,{value:a,position:"center",className:t.main}),r.a.createElement(Oe.a,{value:"Mins Remaining",position:"center",className:t.sub}))):r.a.createElement(Oe.c,{width:200,height:160},r.a.createElement(Oe.b,{cx:100,cy:80,outerRadius:70,innerRadius:60,startAngle:0,endAngle:400,fill:"#eee",cornerRadius:5,dataKey:"value",data:[{name:"time",value:10}]},r.a.createElement(Oe.a,{value:"Not Pomming",position:"center",className:t.sub2})));return r.a.createElement(j.a,{elevation:0},i)}}]),a}(r.a.Component),De=Object(f.a)((function(e){return{pomInProgress:{width:"100px",height:"100px",borderRadius:"50px",background:"#c0392b"},pomNotInProgress:{width:"100px",height:"100px",borderRadius:"50px",background:"#eee"},main:{fontSize:"60px",fontWeight:"500",fill:"#333"},sub:{fontSize:"10px",transform:"translate(0px,30px)",fill:"#333"},sub3:{fontSize:"10px",transform:"translate(0px,-30px)",fill:"#333"},sub2:{fontSize:"10px",fill:"#333"}}}))(Re),Te=a(159),Ie=a.n(Te),Ue=a(245),Ne=a.n(Ue),Me=a(244),Fe=a.n(Me),Ke=a(92),ze=a.n(Ke),qe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleUpdateText=function(e){n.setState({currentCount:e.target.value.length}),n.props.onChange(e)},n.state={currentCount:0},n.handleUpdateText=n.handleUpdateText.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;this.setState({currentCount:t.length})}},{key:"componentDidMount",value:function(){this.setState({currentCount:this.props.value.length})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(I.a,{required:this.props.required,id:this.props.id,label:this.props.label,onChange:this.handleUpdateText,value:this.props.value,variant:this.props.variant,fullWidth:this.props.fullWidth,inputProps:this.props.inputProps,multiline:this.props.multiline,rows:this.props.rows,className:this.props.className,helperText:this.state.currentCount+"/"+this.props.inputProps.maxLength,FormHelperTextProps:this.state.currentCount/this.props.inputProps.maxLength<.8?{className:e.root}:{className:e.root,error:!0}})}}]),a}(r.a.Component),We=Object(f.a)((function(e){return{root:{position:"absolute",right:"5px",bottom:"5px",margin:"0px !important"}}}))(qe),Le=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={textEdit:!1,text:e.pomData.text,status:e.pomData.status},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.pomData;this.setState({text:t.text,status:t.status})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.pomData,s=t.startPom,i=t.pausePom,o=t.textPom,l=t.resumePom,c=t.selfPom,u=new Array(n.poms).fill(0);return r.a.createElement(g.a,{md:3,item:!0,container:!0,className:"".concat(a.pomcards," ").concat(c?a.outline:""),direction:"column",justify:"space-around",alignItems:"center"},r.a.createElement(w.a,{color:"inherit",href:"/?user="+n.pommer},r.a.createElement(E.a,{variant:"overline"},n.pommer)),n.poms>0?r.a.createElement(g.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(E.a,{variant:"subtitle2"},"Today : "),u.map((function(e,t){return r.a.createElement(re.a,{key:t,className:a.pomColor})}))):r.a.createElement(E.a,{variant:"caption"},"No Completed Poms Today!"),r.a.createElement(De,{time:n.time,status:this.state.status}),c?r.a.createElement(g.a,{container:!0,direction:"row",justify:"space-evenly"},"inprogress"===this.state.status?this.state.textEdit?r.a.createElement(oe.a,{size:"small",color:"primary","aria-label":"add",className:a.edit,onClick:function(){o(e.state.text),e.setState({textEdit:!1})}},r.a.createElement(ze.a,{fontSize:"small"})):r.a.createElement(oe.a,{size:"small",color:"primary","aria-label":"add",className:a.edit,onClick:function(){return e.setState({textEdit:!0})}},r.a.createElement(G.a,{fontSize:"small"})):"","inprogress"===this.state.status?r.a.createElement(oe.a,{size:"small",color:"primary","aria-label":"add",className:a.edit,onClick:function(){i(),e.setState({status:"pause"})}},r.a.createElement(Fe.a,{fontSize:"small"})):r.a.createElement(oe.a,{size:"small",color:"primary","aria-label":"add",className:a.edit,onClick:function(){0===n.time?s():l(),e.setState({status:"inprogress"})}},r.a.createElement(Ne.a,{fontSize:"small"}))):"",n.time>0?this.state.textEdit?r.a.createElement(We,{required:!0,id:"outlined-required",label:"Task",onChange:function(t){return e.setState({text:t.target.value})},value:this.state.text,variant:"outlined",fullWidth:!0,inputProps:{maxLength:100}}):r.a.createElement(E.a,{variant:"body2",className:a.txt},r.a.createElement(Ie.a,{style:{color:"#555",transform:"scale(-1, -1)"}}),this.state.text,r.a.createElement(Ie.a,{style:{color:"#555"}})):"")}}]),a}(r.a.Component),Be=Object(f.a)((function(e){return{pomcards:{border:"1px #eee solid",margin:"2px",borderRadius:"5px"},pomColor:{color:"#c0392b"},outline:{border:"2px #c0392b solid"},txt:{display:"flex",alignItems:"center",borderTop:"1px solid #eee",margin:"5px",padding:"1px"},edit:{border:"2px solid #c0392b",color:"#c0392b",background:"#fff",boxShadow:"none","&:hover":{border:"2px solid #fff",background:"#fff"}}}}))(Le),Ae=new Ee.a(xe.a),Ye=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={user:e.user,poms:[],following:e.following,selfPomCount:0,myPom:{},pommers:0},n.startPom=n.startPom.bind(Object(h.a)(n)),n.pausePom=n.pausePom.bind(Object(h.a)(n)),n.resumePom=n.resumePom.bind(Object(h.a)(n)),n.textPom=n.textPom.bind(Object(h.a)(n)),n.refreshAllPoms=n.refreshAllPoms.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.user,n=e.following;e.poms;this.setState({user:a,following:n},(function(){t.refreshAllPoms(n,a)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.inter)}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.deployment="prod",this.refreshAllPoms(this.state.following,this.state.user)}},{key:"componentWillMount",value:function(){var e=this;this.inter=setInterval((function(){e.refreshAllPoms(e.state.following,e.state.user),console.log("poms refreshed!",e.state)}),6e4)}},{key:"refreshAllPoms",value:function(e,t){var a=this,n={},r=0;Se.database().ref(this.deployment+"/userlist/all").once("value",(function(s){var i=s.val(),o=(new Date).getUTCDate()+"-"+(new Date).getUTCMonth()+"-"+(new Date).getUTCFullYear();Se.database().ref(a.deployment+"/poms").child(o).once("value",(function(s){var o=s.val();if(null!==o){for(var l in o)n[i[l]]=o[l];var c,u,m,d,p,h,f=[],g={},b=!1;if(n[t.userID]){var v,y=n[t.userID],E=y.length,w=y[E-1];v="pause"===w.status?w.elapsed/6e4:((new Date).getTime()-w.modifiedUTC)/6e4+w.elapsed/6e4,b=!0,c=E,u=w.status,m=w.modifiedUTC,d=w.elapsed,p=w.startUTC,h=w.text,g=v>=25?{pommer:t.userID,time:0,status:"",text:"",poms:E}:{pommer:t.userID,time:25-parseInt(v),status:w.status,text:w.text,poms:E-1}}e.map((function(e){if(n[e]){var t,a=n[e],s=a.length,i=a[s-1];(t="pause"===i.status?i.elapsed/6e4:((new Date).getTime()-i.modifiedUTC)/6e4+i.elapsed/6e4)>=25?f.push({pommer:e,time:0,status:"",text:"",poms:s}):(r+=1,f.push({pommer:e,time:25-parseInt(t),status:i.status,text:i.text,poms:s-1}))}else f.push({pommer:e,time:0,status:"",text:"",poms:0})})),b?a.setState({poms:f,myPom:g,selfPomCount:c,latestPomElapsed:d,latestPomModified:m,latestPomStart:p,latestPomStatus:u,latestPomText:h}):a.setState({myPom:g,poms:f})}else{var x=[],k={pommer:t.userID,time:0,status:"",text:"",poms:0};e.map((function(e){x.push({pommer:e,time:0,status:"",text:"",poms:0})})),a.setState({poms:x,myPom:k})}}))})),r>this.state.pommers&&this.setState({pommers:r,open:!0},(function(){Ae.play()}))}},{key:"startPom",value:function(){var e=(new Date).getUTCDate()+"-"+(new Date).getUTCMonth()+"-"+(new Date).getUTCFullYear(),t=(new Date).getTime();Se.database().ref(this.deployment+"/poms").child(e).child(this.state.user.uid).child(this.state.selfPomCount).set({elapsed:0,modifiedUTC:t,startUTC:t,status:"inprogress",text:""});var a=this.state.myPom;a={pommer:this.state.user.userID,poms:this.state.selfPomCount,status:"inprogress",text:"",time:25},this.setState({myPom:a,selfPomCount:this.state.selfPomCount+1,latestPomElapsed:0,latestPomModified:t,latestPomStart:t,latestPomStatus:"inprogress",latestPomText:"",open:!0}),Ae.play()}},{key:"resumePom",value:function(){var e=(new Date).getUTCDate()+"-"+(new Date).getUTCMonth()+"-"+(new Date).getUTCFullYear(),t=(new Date).getTime();Se.database().ref(this.deployment+"/poms").child(e).child(this.state.user.uid).child(this.state.selfPomCount-1).set({elapsed:this.state.latestPomElapsed,modifiedUTC:t,startUTC:this.state.latestPomStart,status:"inprogress",text:this.state.latestPomText});var a=this.state.myPom;a.status="inprogress",this.setState({myPom:a,latestPomModified:t,latestPomStatus:"inprogress"})}},{key:"pausePom",value:function(){var e=(new Date).getUTCDate()+"-"+(new Date).getUTCMonth()+"-"+(new Date).getUTCFullYear(),t=(new Date).getTime(),a=t-this.state.latestPomModified+this.state.latestPomElapsed;Se.database().ref(this.deployment+"/poms").child(e).child(this.state.user.uid).child(this.state.selfPomCount-1).set({elapsed:a,modifiedUTC:t,startUTC:this.state.latestPomStart,status:"pause",text:this.state.latestPomText});var n=this.state.myPom;n.status="pause",this.setState({myPom:n,latestPomElapsed:a,latestPomModified:t,latestPomStatus:"pause"})}},{key:"textPom",value:function(e){var t=(new Date).getUTCDate()+"-"+(new Date).getUTCMonth()+"-"+(new Date).getUTCFullYear();Se.database().ref(this.deployment+"/poms").child(t).child(this.state.user.uid).child(this.state.selfPomCount-1).child("text").set(e);var a=this.state.myPom;a.text=e,this.setState({myPom:a,latestPomText:e,open:!1})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.following,t.user;return console.log("state of poms",this.state.poms),r.a.createElement(j.a,{elevation:0},r.a.createElement(g.a,{container:!0,className:a.brumb,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(ie.a,{"aria-label":"breadcrumb"},r.a.createElement(E.a,{color:"inherit"},"CoPom [",(new Date).getUTCDate()+"-"+(new Date).getUTCMonth()+"-"+(new Date).getUTCFullYear(),"]"))),r.a.createElement(g.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(Be,{selfPom:!0,pomData:this.state.myPom,key:0,startPom:this.startPom,pausePom:this.pausePom,textPom:this.textPom,resumePom:this.resumePom})),r.a.createElement(g.a,{container:!0,direction:"row",justify:"flex-start"},r.a.createElement(E.a,null,"Following")),r.a.createElement(g.a,{container:!0,direction:"row",justify:"flex-start"},this.state.poms.map((function(t,a){return r.a.createElement(Be,{selfPom:!1,pomData:t,key:a+1,startPom:e.startPom,pausePom:e.pausePom,textPom:e.textPom,resumePom:e.resumePom})}))),r.a.createElement(ke.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:15e3,onClose:function(){e.setState({open:!1})},open:this.state.open,key:"bottom-right"},r.a.createElement(Pe.a,{className:a.snack,message:"Yay, A new Pom!"})))}}]),a}(r.a.Component),He=Object(f.a)((function(e){return{brumb:{padding:20,borderRadius:0},pomcards:{padding:"10px",minHeight:"200px",minWidth:"200px",border:"1px #eee solid",margin:"2px",borderRadius:"5px"},snack:{backgroundColor:"#c0392b",color:"#fff"}}}))(Ye),Ge=a(156),Ve=a.n(Ge),Qe=a(160),Je=a.n(Qe),_e=a(246),$e=a.n(_e),Xe=a(247),Ze=a.n(Xe),et=a(568),tt=a(556),at=a(550),nt=a(497),rt=a(544),st=a(572),it=a(564),ot=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).addKR=function(e){n.setState((function(e){var t=e.keyResults;return t.push({id:t.length,result:"",metric:""}),Object(p.a)(Object(p.a)({},e),{},{keyResults:t})}))},n.changeCategory=function(e){var t=e.target.value;n.setState({objective:Object(p.a)(Object(p.a)({},n.state.objective),{},{category:t})})},n.deleteKR=function(e){var t=n.state.keyResults.filter((function(t){return t.id!==e}));n.setState({keyResults:t})},n.changeTitle=function(e){n.setState({objective:Object(p.a)(Object(p.a)({},n.state.objective),{},{title:e.target.value})})},n.changeDescription=function(e){n.setState({objective:Object(p.a)(Object(p.a)({},n.state.objective),{},{description:e.target.value})})},n.changeFailureMode=function(e){n.setState({objective:Object(p.a)(Object(p.a)({},n.state.objective),{},{failureMode:e.target.value})})},n.changeKRResult=function(e,t){var a=n.state.keyResults.map((function(a,n){return a.id===t&&(a.result=e.target.value),a}));n.setState({keyResults:a})},n.changeKRMetric=function(e,t){var a=n.state.keyResults.map((function(a,n){return a.id===t&&(a.metric=e.target.value),a}));n.setState({keyResults:a})};var r=e.showOKR,s={id:r.id,title:r.title,description:r.description,failureMode:r.failureMode,category:r.category},i=[];return r.keyResults.forEach((function(e,t){i.push({id:t,result:e.result,metric:e.metric})})),n.state={objective:s,keyResults:i},n.addKR=n.addKR.bind(Object(h.a)(n)),n.deleteKR=n.deleteKR.bind(Object(h.a)(n)),n.changeCategory=n.changeCategory.bind(Object(h.a)(n)),n.changeTitle=n.changeTitle.bind(Object(h.a)(n)),n.changeDescription=n.changeDescription.bind(Object(h.a)(n)),n.changeFailureMode=n.changeFailureMode.bind(Object(h.a)(n)),n.changeKRResult=n.changeKRResult.bind(Object(h.a)(n)),n.changeKRMetric=n.changeKRMetric.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.showOKR,a={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category},n=[];t.keyResults.forEach((function(e,t){n.push({id:t,result:e.result,metric:e.metric})})),this.setState({objective:a,keyResults:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.openDialog,s=t.handleCloseDialog;return r.a.createElement(et.a,{fullScreen:!0,open:n,onClose:function(){return s("old",e.state.objective,e.state.keyResults)}},r.a.createElement(tt.a,{className:a.appBar},r.a.createElement(at.a,{className:a.toolBar},r.a.createElement(nt.a,{edge:"start",color:"inherit",onClick:function(){return s("old",e.state.objective,e.state.keyResults)},"aria-label":"close"},r.a.createElement(Je.a,null)),r.a.createElement(E.a,{variant:"h6",className:a.title},"Edit OKR"),r.a.createElement(C.a,{startIcon:r.a.createElement(ze.a,null),autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return s("new",e.state.objective,e.state.keyResults)}},"Save"))),r.a.createElement(g.a,{container:!0,direction:"row",justify:"center",className:a.form,spacing:3},r.a.createElement(g.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),r.a.createElement(g.a,{container:!0,item:!0,xs:12,sm:12,md:8,lg:6,xl:6,spacing:3,justify:"center"},r.a.createElement(E.a,{variant:"overline",className:a.obj},"Objective"),r.a.createElement(g.a,{item:!0,container:!0,direction:"row",spacing:3,alignItems:"center",justify:"space-between"},r.a.createElement(g.a,{item:!0,xs:8},r.a.createElement(We,{required:!0,id:"outlined-required",label:"Objective",onChange:this.changeTitle,value:this.state.objective.title,variant:"outlined",fullWidth:!0,inputProps:{maxLength:70}})),r.a.createElement(g.a,{item:!0,xs:4},r.a.createElement(rt.a,{variant:"outlined",className:a.formControl},r.a.createElement(st.a,{id:"demo-simple-select-outlined-label",className:a.category},"Category *"),r.a.createElement(it.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.objective.category,onChange:this.changeCategory},r.a.createElement(y.a,{value:"relationships"},"Relationships"),r.a.createElement(y.a,{value:"fitness"},"Fitness"),r.a.createElement(y.a,{value:"work"},"Work"),r.a.createElement(y.a,{value:"creative"},"Creative"),r.a.createElement(y.a,{value:"other"},"Other"))))),r.a.createElement(We,{required:!0,id:"outlined-required-decription",label:"Description",onChange:this.changeDescription,value:this.state.objective.description,variant:"outlined",fullWidth:!0,multiline:!0,rows:2,inputProps:{maxLength:140}}),r.a.createElement(E.a,{variant:"overline",className:a.obj},"Key Results"),this.state.keyResults.map((function(t,n){return r.a.createElement(g.a,{container:!0,direction:"row",style:{padding:"10px"},key:t.id,alignItems:"center"},r.a.createElement(g.a,{item:!0,container:!0,justify:"center",xs:1,key:n},r.a.createElement(b.a,{variant:"rounded",className:a.dark,key:n},r.a.createElement(Ve.a,null))),r.a.createElement(g.a,{item:!0,xs:7},r.a.createElement(We,{required:!0,label:"Key Result",onChange:function(a){return e.changeKRResult(a,t.id)},value:t.result,variant:"outlined",style:{width:"100%"},fullWidth:!0,inputProps:{maxLength:140}})),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(We,{required:!0,label:"System Metric",onChange:function(a){return e.changeKRMetric(a,t.id)},value:t.metric,variant:"outlined",style:{width:"100%"},inputProps:{maxLength:3}})),r.a.createElement(g.a,{container:!0,justify:"center",item:!0,xs:1},r.a.createElement($e.a,{fontSize:"small",onClick:function(){return e.deleteKR(t.id)},className:a.buttonify})))})),r.a.createElement(g.a,{container:!0,direction:"column",alignItems:"center",style:{margin:"20px"}},r.a.createElement(g.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},r.a.createElement(oe.a,{color:"primary","aria-label":"add",className:a.darkBackground,onClick:this.addKR},r.a.createElement(X.a,null)),r.a.createElement(E.a,{variant:"caption"},"Add New Key Result")),r.a.createElement(We,{required:!0,id:"outlined-required-failure-mode",label:"Possible Failure Mode",onChange:this.changeFailureMode,value:this.state.objective.failureMode,variant:"outlined",className:a.fail,fullWidth:!0,multiline:!0,rows:2,inputProps:{maxLength:140}}),r.a.createElement(g.a,{container:!0,direction:"row",justify:"space-evenly",style:{paddingTop:"50px"}},r.a.createElement(C.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:r.a.createElement(Je.a,null),onClick:function(){return s("old",e.state.objective,e.state.keyResults)}},"Cancel"),r.a.createElement(C.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:r.a.createElement(Ze.a,null),onClick:function(){return s("delete",e.state.objective,e.state.keyResults)}},"Delete"),r.a.createElement(C.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:r.a.createElement(ze.a,null),onClick:function(){return s("new",e.state.objective,e.state.keyResults)}},"Save")))),r.a.createElement(g.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})))}}]),a}(r.a.Component),lt=Object(f.a)((function(e){return{root:{background:"#eaeff0",padding:"12px"},bold:{fontWeight:800,padding:"10px"},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{borderRadius:"5px",border:"1px solid #aaa",padding:"10px"},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"20px"},fail:{marginTop:"10px"},darkBackground:{background:"#333","&:hover":{color:"#333",background:"#fff"}},dark:{background:"#333"},appBar:{position:"relative",background:"#333"},toolBar:{justifyContent:"space-between"},form:{padding:"50px"},category:{background:"#fff",padding:"1px"},formControl:{width:"100%"},obj:{paddingTop:"30px",fontSize:"20px",letterSpacing:"10px",textAlign:"center",width:"100%"},buttonify:{cursor:"pointer"}}}))(ot),ct=a(161),ut=a.n(ct),mt=a(248),dt=a.n(mt),pt=a(250),ht=a.n(pt),ft=a(251),gt=a.n(ft),bt=a(492),vt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).handleFollow=function(e){if(n.state.isFollowing){n.setState({isFollowing:!n.state.isFollowing});var t=Object.keys(n.state.followlist).filter((function(e){return n.state.followlist[e]===n.state.userRequested}));Se.database().ref(n.deployment+"/userlist/"+n.state.curUser.uid+"/"+t).remove()}else{n.setState({isFollowing:!n.state.isFollowing}),Se.database().ref(n.deployment+"/userlist/"+n.state.curUser.uid).push().set(n.state.userRequested)}},n.handleCloseDialog=function(e,t,a){var r=n.state.showDialogContent,s={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category,keyResults:a},i=n.state.curUserOKRs;null===n.state.showDialogContent?"new"===e&&(s.id=i.length,i.push(s)):("delete"===e&&i.splice(r,1),"old"===e?i[r]=n.state.editOKR:"new"===e&&(i[r]=s)),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{showDialog:!1,curUserOKRs:i})),Se.database().ref(n.deployment+"/okrs/"+n.state.curUser.uid+"/"+n.state.year+"/"+n.state.quarter).set(Object(p.a)({},i))},n.handleOpenDialog=function(e){n.setState({showDialog:!0}),n.setState({showDialogContent:e}),n.setState({editOKR:n.state.curUserOKRs[e]}),null===e?n.setState({dialogContent:n.state.defaultDialogContent}):n.setState({dialogContent:n.state.curUserOKRs[e]})},n.updateProgress=function(e,t,a){if(n.state.curUser.userID===n.state.userRequested&&n.state.isSignedIn){console.log("updateprogress",e,t,a);var r=n.state.curUserOKRs,s=r[e],i=s.keyResults[t],o=i.progress.map((function(e,t){return t!==a?e:(e+1)%4})),l=s.keyResults.map((function(e,a){return a!==t?e:Object(p.a)(Object(p.a)({},i),{},{progress:o})})),c=r.map((function(t,a){return a!==e?t:Object(p.a)(Object(p.a)({},s),{},{keyResults:l})}));n.setState({curUserOKRs:c}),Se.database().ref(n.deployment+"/okrs/"+n.state.curUser.uid+"/"+n.state.year+"/"+n.state.quarter).set(Object(p.a)({},c))}},n.navHandleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.navHandleClose=function(e){n.setState({anchorEl:null})},n.navSignin=function(){window.location.href="/?m=okrs"};return n.uiConfig={signInFlow:"popup",signInOptions:[Se.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},n.state=Object(p.a)({anchorEl:null,mode:e.mode,isSignedIn:!1,showDialog:!1,showDialogContent:null,curUserOKRs:[],curUser:{},userlist:[],pommers:[],followlist:{},followerslist:{},poms:{},isFollowing:!1,userRequested:new URLSearchParams(window.location.search).get("user"),quarter:"Q"+(new URLSearchParams(window.location.search).get("q")||Math.ceil(((new Date).getMonth()+1)/3)),year:"Y"+(new URLSearchParams(window.location.search).get("y")||(new Date).getFullYear())},bt),n.handleCloseDialog=n.handleCloseDialog.bind(Object(h.a)(n)),n.handleOpenDialog=n.handleOpenDialog.bind(Object(h.a)(n)),n.handleFollow=n.handleFollow.bind(Object(h.a)(n)),n.signOut=n.signOut.bind(Object(h.a)(n)),n.updateProgress=n.updateProgress.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"signOut",value:function(){this.setState({anchorEl:null,isSignedIn:!1,curUserOKRs:[],curUser:{},followlist:{},followerslist:{},poms:{},userRequested:null}),Se.auth().signOut()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.deployment="prod",Se.auth().onAuthStateChanged((function(t){if(null!==t&&(e.setState({isSignedIn:!!t}),e._isMounted)){console.log(e.deployment);var a=Se.database().ref(e.deployment+"/users"),n=t.email.split("@")[0].replace(".","");a.child(t.uid).once("value",(function(a){if(a.exists())e.setState({curUser:a.val()}),null===e.state.userRequested&&e.setState({userRequested:a.val().userID});else{var r={name:t.displayName,firstName:t.displayName.split(" ")[0],photoURL:t.photoURL,email:t.email,uid:t.uid,userID:n};Se.database().ref(e.deployment+"/users/"+t.uid).set(r),Se.database().ref(e.deployment+"/userlist/all/"+t.uid).set(n),e.setState({curUser:r}),null===e.state.userRequested&&e.setState({curUser:a.val(),userRequested:a.val().userID})}null===e.state.userRequested?Se.database().ref(e.deployment+"/okrs/").child(t.uid).child(e.state.year).child(e.state.quarter).once("value",(function(t){null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){}))})):Se.database().ref(e.deployment+"/userlist/all").once("value",(function(t){var a=t.val(),n=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==n&&null!==n&&Se.database().ref(e.deployment+"/okrs").child(n).child(e.state.year).child(e.state.quarter).once("value",(function(t){null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){}))}))})),Se.database().ref(e.deployment+"/userlist/"+t.uid).on("value",(function(t){null!==t.val()?(e.setState({followlist:t.val()},(function(){})),Object.values(t.val()).indexOf(e.state.userRequested)>=0&&e.setState({isFollowing:!0})):e.setState({followlist:{}})})),Se.database().ref(e.deployment+"/userlist").once("value",(function(t){var a=t.val(),n=a.all,r={};null!==a?(Object.keys(a).filter((function(t){if("all"!==t){var s=a[t];if(Object.values(s).includes(e.state.curUser.userID))return r[t]=n[t],t}})),e.setState({followerslist:r})):e.setState({followerslist:{}})}))}))}})),this.state.isSignedIn||null===this.state.userRequested||Se.database().ref(this.deployment+"/userlist/all").once("value",(function(t){var a=t.val(),n=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==n&&null!==n&&Se.database().ref(e.deployment+"/okrs").child(n).child(e.state.year).child(e.state.quarter).once("value",(function(t){null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){}))}))})),Se.database().ref(this.deployment+"/userlist/all").once("value",(function(t){null!==t.val()&&e.setState({userlist:Object.values(t.val())},(function(){}))})),Se.database().ref(this.deployment+"/userlist/all").once("value",(function(t){var a=t.val(),n=(new Date).getUTCDate()+"-"+(new Date).getUTCMonth()+"-"+(new Date).getUTCFullYear();Se.database().ref(e.deployment+"/poms").child(n).once("value",(function(t){var n=t.val(),r=[];if(null!==n){for(var s in n)r.push(a[s]);e.setState({pommers:r})}}))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.theme;return r.a.createElement("div",{className:a.root},this.state.isSignedIn||null!==this.state.userRequested?r.a.createElement(g.a,{container:!0,direction:"column"},this.state.curUser&&this.state.isSignedIn&&this.state.curUser.photoURL?r.a.createElement(b.a,{className:a.accountButton,alt:"Remy Sharp",src:this.state.curUser.photoURL,onClick:this.navHandleClick}):r.a.createElement(ut.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.navHandleClick,className:a.accountButton,fontSize:"large"}),r.a.createElement(v.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.navHandleClose},this.state.isSignedIn?r.a.createElement(y.a,{onClick:function(){console.log("logged out!"),e.setState({isSignedIn:!1},(function(){e.signOut()}))}},"Logout"):r.a.createElement(y.a,{onClick:this.navSignin},"Login")),r.a.createElement(g.a,{container:!0,item:!0,direction:"row"},r.a.createElement(g.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),r.a.createElement(g.a,{item:!0,xs:12,sm:12,md:8,lg:6,xl:6},r.a.createElement(E.a,{variant:"h1",className:a.jumbo},r.a.createElement(w.a,{href:"/",underline:"none",color:"textPrimary"},"okru"),"dev"===this.deployment?"-dev":"")),r.a.createElement(g.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})),r.a.createElement(g.a,{container:!0,item:!0,spacing:3,direction:"row",justify:"center",xs:12,sm:12,md:12,lg:12,xl:12,style:{marginBottom:"50px"}},r.a.createElement(g.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1}),r.a.createElement(g.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:7,lg:7,xl:7},this.state.mode?r.a.createElement(He,{user:this.state.curUser,following:Object.values(this.state.followlist)}):r.a.createElement(ve,{okrList:this.state.curUserOKRs,handleOpenDialog:this.handleOpenDialog,selfView:this.state.curUser.userID===this.state.userRequested,isFollowing:this.state.isFollowing,userBeingViewed:this.state.userRequested,handleFollow:this.handleFollow,isSignedIn:this.state.isSignedIn,quarter:this.state.quarter,year:this.state.year,updateProgress:this.updateProgress})),r.a.createElement(g.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:3,lg:3,xl:3},r.a.createElement(g.a,{item:!0},r.a.createElement(F,{following:this.state.userlist,name:"All Users",initText:"No Users :("}),r.a.createElement(F,{following:this.state.pommers,name:"All Pommers",initText:"No Pommers Today!"})),this.state.isSignedIn?r.a.createElement(g.a,null,r.a.createElement(g.a,{item:!0},r.a.createElement(F,{following:Object.values(this.state.followlist),name:"Following",initText:"You're not following anyone!"})),r.a.createElement(g.a,{item:!0},r.a.createElement(F,{following:Object.values(this.state.followerslist),name:"Followers",initText:"You do not have any followers yet!"}))):""),r.a.createElement(g.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1})),r.a.createElement(x.a,{value:this.state.mode,onChange:function(t,a){e.setState({mode:a}),0===a?window.history.pushState({},null,"/?m=okrs"):1===a&&window.history.pushState({},null,"/?m=copom")},showLabels:!0,className:a.stickToBottom},r.a.createElement(k.a,{className:a.edit,label:"OKRs",icon:r.a.createElement(ht.a,null)}),this.state.isSignedIn?r.a.createElement(k.a,{className:a.edit,label:"CoPom",icon:r.a.createElement(gt.a,null)}):""),this.state.curUser.userID===this.state.userRequested?r.a.createElement(lt,{openDialog:this.state.showDialog,handleCloseDialog:this.handleCloseDialog,showOKR:this.state.dialogContent}):""):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(E.a,{variant:"h1",className:a.jumbo},r.a.createElement(w.a,{href:"/",underline:"none",color:"textPrimary"},"okru")),r.a.createElement(E.a,{variant:"caption"},"Set Personal OKRs, Be Accountable to Friends"),r.a.createElement(E.a,{variant:"caption"},"Become a Better Version of You"),r.a.createElement(dt.a,{uiConfig:this.uiConfig,firebaseAuth:Se.auth()}),r.a.createElement(P.a,{style:{width:"30%",margin:"30px"}}),r.a.createElement(g.a,{container:!0,direction:"column",item:!0,xs:10,sm:6,md:6,lg:4,xl:4},r.a.createElement(E.a,{variant:"subtitle1"},"This is a ",r.a.createElement("b",null,r.a.createElement("i",null,"Measure What Matters"))," meets ",r.a.createElement("b",null,r.a.createElement("i",null,"Elephant In The Brain"))," meets ",r.a.createElement("b",null,r.a.createElement("i",null,"Atomic Habits"))," effort to use personal OKRs that track System Metrics and positively decieve our silly brains. You can set your quarterly OKRs, pre-commit metrics, estimate possible failure modes and follow your friends."),r.a.createElement(E.a,{variant:"overline"},"More features are coming soon!"),r.a.createElement(C.a,{autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return window.location.href="/?m=okrs&user=vivekaithal44&q=1&y=2020"}},"See a sample OKR"))))}}]),a}(r.a.Component),yt=Object(f.a)((function(e){return{root:{background:"#fff",flexGrow:1,textAlign:"center",minHeight:"100vh",margin:"0px"},jumbo:{fontWeight:600,cursor:"pointer"},dark:{background:"#333"},accountButton:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"},stickToBottom:{width:"100%",position:"fixed",bottom:0,borderTop:"1px solid #eee",zIndex:"10"},edit:{maxWidth:"100%",borderRight:"1px solid #888",borderLeft:"1px solid #888",background:"#333",color:"#888","&:hover":{color:"#fff"}}}}))(vt),Et=(a(493),Object(m.a)({palette:{primary:{main:"#1976d2",light:"rgb(71, 145, 219)",dark:"rgb(17, 82, 147)",contrastText:"#fff"},secondary:{main:"rgb(220, 0, 78)",light:"rgb(227, 51, 113)",dark:"rgb(154, 0, 54)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},chips:{relationships:"#c0392b",fitness:"#f39c12",work:"#2980b9",creative:"#16a085",other:"#2c3e50"}}})),wt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={currentPage:window.location.pathname},n}return Object(l.a)(a,[{key:"render",value:function(){if("/"===this.state.currentPage){var e=new URLSearchParams(window.location.search).get("m")||"okrs";if("okrs"===e)return r.a.createElement(d.a,{theme:Et},r.a.createElement(yt,{mode:0}));if("copom"===e)return r.a.createElement(d.a,{theme:Et},r.a.createElement(yt,{mode:1}))}}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[294,1,2]]]);
//# sourceMappingURL=main.44478a7f.chunk.js.map