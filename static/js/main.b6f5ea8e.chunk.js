(this.webpackJsonpokrd=this.webpackJsonpokrd||[]).push([[0],{120:function(e,t,a){e.exports=a(149)},125:function(e,t,a){},147:function(e){e.exports=JSON.parse('{"defaultDialogContent":{"id":0,"title":"","failureMode":"","description":"","category":"fitness","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"dialogContent":{"id":0,"title":"","description":"","category":"","failureMode":"","keyResults":[{"id":0,"result":"","metric":""},{"id":1,"result":"","metric":""}]},"okrList":[{"id":0,"title":"Get Fit and lose weight","description":"Yoyoyoyo","failureMode":"","category":"relationships","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":1,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"fitness","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":2,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"creative","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]},{"id":3,"title":"Obj bluh bluh","description":"Yoyoyoyo","failureMode":"","category":"work","keyResults":[{"id":0,"result":"Do this 10 times","metric":0},{"id":1,"result":"Do that 10 times","metric":5}]}],"following":[],"week":[2,2,1,2,1,0,0,1,-1,-1,-1,-1,-1]}')},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(14),r=a.n(l),o=(a(125),a(23)),s=a(24),c=a(30),u=a(25),d=a(31),m=a(108),g=a(205),h=a(22),p=a(13),f=a(5),b=a(190),y=a(219),v=a(109),E=a(197),w=a(151),k=a(196),x=a(202),j=a(204),O=a(150),S=a(185),R=a(186),C=a(187),P=a(188),D=a(189),I=a(214),F=a(195),N=a(210),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleSearch=function(e){if(a.setState({searchValue:e.target.value}),""===e.target.value)a.setState({following:a.state.followingRaw});else{var t=a.state.followingRaw.filter((function(t){return t.includes(e.target.value)}));a.setState({following:t})}},a.state={page:0,rowsPerPage:5,searchValue:"",following:[],followingRaw:[]},a.handleChangePage=a.handleChangePage.bind(Object(p.a)(a)),a.handleChangeRowsPerPage=a.handleChangeRowsPerPage.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.following;this.setState({following:t,followingRaw:t})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.following,e.name),n=e.initText;return i.a.createElement(O.a,{elevation:0},i.a.createElement(S.a,{className:t.root},i.a.createElement(R.a,{stickyHeader:!0,"aria-label":"simple table",size:"small"},i.a.createElement(C.a,null,i.a.createElement(P.a,null,i.a.createElement(D.a,{className:t.dark,style:{borderRadius:"5px"}},i.a.createElement(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},i.a.createElement(w.a,null,a),i.a.createElement(I.a,{id:"standard-basic",variant:"outlined",size:"small",label:"Search",className:t.search,InputLabelProps:{style:{color:"#fff",paddingLeft:"10px"}},InputProps:{style:{color:"#fff"}},value:this.state.searchValue,onChange:this.handleSearch}))))),i.a.createElement(F.a,null,0===this.state.following.length?i.a.createElement(P.a,null,i.a.createElement(D.a,{align:"center",component:"th",scope:"row"},i.a.createElement(w.a,null,n))):this.state.following.slice(this.state.page*this.state.rowsPerPage,(this.state.page+1)*this.state.rowsPerPage).map((function(e){return i.a.createElement(P.a,{key:e},i.a.createElement(D.a,{align:"center",component:"th",scope:"row"},i.a.createElement(k.a,{color:"inherit",href:"/?user="+e},e)))}))))),i.a.createElement(N.a,{rowsPerPageOptions:[5],component:"div",count:this.state.following.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(i.a.Component),M=Object(f.a)((function(e){return{root:{maxHeight:"220px",textAlign:"center"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},dark:{background:"#333",color:"#fff",fontWeight:800},search:{color:"#fff",background:"#222",borderRadius:"3px",width:"50%"}}}))(K),T=a(99),B=a.n(T),z=a(93),U=a.n(z),L=a(95),W=a.n(L),V=a(94),q=a.n(V),A=a(103),H=a.n(A),Q=a(97),Y=a.n(Q),G=a(96),J=a.n(G),_=a(75),$=a.n(_),X=a(98),Z=a.n(X),ee=a(100),te=a.n(ee),ae=a(102),ne=a.n(ae),ie=a(101),le=a.n(ie),re=a(217),oe=a(211),se=a(199),ce=a(207),ue=a(218),de=a(212),me=a(200),ge=a(201),he=a(194),pe=a(153),fe=a(92),be=a.n(fe),ye=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).printOKR=function(e,t){var a=new be.a({orientation:"landscape"}),n=(257-2*(e.length-1))/e.length;function i(e){return e+20}function l(e){return e+20}a.setFont("helvetica"),a.setFontSize(70),a.text(parseInt(148.5),l(0),"okru",{align:"center"}),a.setTextColor("#999"),a.setFontSize(15),a.setFont("courier"),a.text(parseInt(148.5),l(10),t+"/2020/Q1",{align:"center"}),a.setFont("helvetica"),a.setTextColor("#000"),a.setFontStyle("bold"),a.setFontSize(10),a.text(17,l(60),"OBJECTIVES",{rotationDirection:1,angle:90,charSpace:2}),a.text(17,l(140),"KEY RESULTS",{rotationDirection:1,angle:90,charSpace:2}),a.setDrawColor("#aaa"),a.setFontSize(7),a.setFont("courier"),a.text(217,208,"https://okru.app/?user="+t,{charSpace:0}),e.forEach((function(e,t){var r=25;a.setTextColor("#fff"),a.setFont("helvetica"),a.setDrawColor("#000"),a.setFontSize(15),a.roundedRect(i(t*(n+2)),l(15),n,170,3,3,"S"),a.setFillColor("#333"),a.roundedRect(i(t*(n+2)),l(15),n,50,3,3,"F"),a.setFontStyle("bold");for(var o=a.splitTextToSize(e.title,n-6),s=0;s<o.length;s++)a.text(i(t*(n+2)+n/2),l(r),o[s],{align:"center",charSpace:0}),r+=5;a.setFontStyle("normal"),a.setFontSize(10);for(o=a.splitTextToSize(e.description,n-6),s=0;s<o.length;s++)a.text(i(t*(n+2)+n/2),l(r),o[s],{align:"center",charSpace:0}),r+=5;r=75,a.setTextColor("#000"),e.keyResults.forEach((function(e){for(var o=a.splitTextToSize(e.result+" [System Metric : "+e.metric+"] ",n-6),s=0;s<o.length;s++)a.text(i(t*(n+2)+n/2),l(r),o[s],{align:"center",charSpace:0}),r+=5;a.setDrawColor("#aaa"),a.line(i(t*(n+2)+3),l(r),i(t*(n+2)+n-3),l(r),"F"),r+=8}));for(o=a.splitTextToSize("Possible Failure Mode : "+e.failureMode,n-6),s=0;s<o.length;s++)a.text(i(t*(n+2)+n/2),l(r),o[s],{align:"center",charSpace:0}),r+=5})),a.save("okru.pdf")},a.findWeeksinQuarter=function(e,t){var a,n,i=new Date(t,0,1);"Q1"===e?(a=new Date(t,0,1),n=new Date(t,2,31)):"Q2"===e?(a=new Date(t,3,1),n=new Date(t,5,30)):"Q3"===e?(a=new Date(t,6,1),n=new Date(t,8,30)):"Q4"===e&&(a=new Date(t,9,1),n=new Date(t,11,31));var l=Math.ceil((a-i+864e5)/864e5/7);return Math.ceil((n-i+864e5)/864e5/7)-l+1};return a.state={chips:{relationships:i.a.createElement(re.a,{style:{background:"#eee",color:"#000"},size:"small",icon:i.a.createElement(U.a,{style:{color:"#000"}}),label:"Relationships"}),fitness:i.a.createElement(re.a,{size:"small",style:{background:"#eee",color:"#000"},icon:i.a.createElement(q.a,{style:{color:"#000"}}),label:"Fitness"}),work:i.a.createElement(re.a,{style:{background:"#eee",color:"#000"},size:"small",icon:i.a.createElement(W.a,{style:{color:"#000"}}),label:"Work"}),creative:i.a.createElement(re.a,{size:"small",style:{background:"#eee",color:"#000"},icon:i.a.createElement(J.a,{style:{color:"#000"}}),label:"Creative"}),other:i.a.createElement(re.a,{size:"small",style:{background:"#eee",color:"#000"},icon:i.a.createElement(Y.a,{style:{color:"#000"}}),label:"Other"})}},a.printOKR=a.printOKR.bind(Object(p.a)(a)),a.findWeeksinQuarter=a.findWeeksinQuarter.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.okrList,l=t.handleOpenDialog,r=t.selfView,o=t.isSignedIn,s=t.userBeingViewed,c=t.isFollowing,u=t.handleFollow,d=t.quarter,m=t.year,g=t.updateProgress,h=c?i.a.createElement(w.a,{variant:"caption"},"Unfollow"):i.a.createElement(w.a,{variant:"caption"},"Follow");return i.a.createElement(O.a,{className:a.root,elevation:0},i.a.createElement(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},i.a.createElement(oe.a,{className:a.brumb,"aria-label":"breadcrumb"},i.a.createElement(w.a,{color:"inherit"},s),i.a.createElement(w.a,{color:"inherit"},m),i.a.createElement(w.a,{color:"textPrimary"},d)),r&&o?i.a.createElement(se.a,{color:"primary","aria-label":"add",size:"small",className:a.edit,onClick:function(){return e.printOKR(n,s)}},i.a.createElement(Z.a,{fontSize:"small"})):o&&n.length>0?i.a.createElement(ce.a,{className:a.followBox},i.a.createElement(ue.a,{checked:c,onChange:u,value:"follow",color:"primary",inputProps:{"aria-label":"default checkbox"}}),h):""),n.length>0?n.map((function(t,n){return i.a.createElement(de.a,{key:t.id,elevation:0},i.a.createElement(me.a,{expandIcon:i.a.createElement(B.a,null),"aria-controls":"panel-"+t.id+"-content",id:"panel-"+t.id+"-header"},i.a.createElement(ce.a,{className:a.col},i.a.createElement(ce.a,{className:a.heading},i.a.createElement(w.a,{className:a.bold},t.title),i.a.createElement(w.a,{variant:"body2",className:a.description},t.description)),i.a.createElement(ce.a,{className:a.bound},e.state.chips[t.category]))),i.a.createElement(ge.a,{className:a.row},i.a.createElement(he.a,null,t.keyResults.map((function(e,t){return i.a.createElement(pe.a,{key:t,className:a.kr},i.a.createElement(b.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start"},i.a.createElement(w.a,null,e.result),i.a.createElement(re.a,{icon:i.a.createElement(te.a,null),label:i.a.createElement(w.a,{variant:"caption"},"System Metric : ",i.a.createElement(w.a,{variant:"button"},e.metric)),size:"small",color:"default",variant:"outlined"}),i.a.createElement(b.a,{container:!0,direction:"row"},e.progress.map((function(e,l){var r,o=i.a.createElement(w.a,{variant:"caption"},"W"+(l+1));if(0===e)return i.a.createElement(b.a,{container:!0,direction:"column",key:100*n+10*t+l,className:a.bubbles,alignItems:"center"},i.a.createElement(le.a,{onClick:function(){return g(n,t,l)},fontSize:"small",key:100*n+10*t+l,style:{color:"#bdc3c7"}}),o);r=1===e?"#c0392b":2===e?"#f1c40f":"#27ae60";var s=i.a.createElement(ne.a,{onClick:function(){return g(n,t,l)},fontSize:"small",key:100*n+10*t+l,style:{color:r}});return i.a.createElement(b.a,{container:!0,direction:"column",key:100*n+10*t+l,className:a.bubbles,alignItems:"center"},s,o)})))))}))),i.a.createElement(w.a,{variant:"body2",className:a.descriptionPFM},i.a.createElement("b",null,"Possible Failure Mode : "),t.failureMode),i.a.createElement(b.a,{container:!0,direction:"row",justify:"flex-end",style:{width:"100%",display:"flex"}},r&&o?i.a.createElement(se.a,{size:"small",color:"primary","aria-label":"add",className:a.edit,onClick:function(){return l(t.id)}},i.a.createElement(H.a,{fontSize:"small"})):"",i.a.createElement(x.a,{style:{marginTop:"20px",width:"100%"}}))))})):i.a.createElement(w.a,null,"No OKRs yet!"),r&&o?i.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",justify:"center",className:a.homeAdd},i.a.createElement(se.a,{color:"primary","aria-label":"add",className:a.edit,onClick:function(){return l(null)}},i.a.createElement($.a,null)),i.a.createElement(w.a,{variant:"caption"},"Add New OKR")):"")}}]),t}(i.a.Component),ve=Object(f.a)((function(e){return{root:{background:"#fff",padding:"12px"},bold:{fontWeight:800},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"10px",textAlign:"left"},descriptionPFM:{paddingBottom:"10px",textAlign:"left",borderLeft:"5px #c0392b solid",paddingLeft:"20px"},darkBackground:{background:"#333"},dark:{background:"#333",color:"#fff"},edit:{background:"#333",color:"#fff",boxShadow:"none","&:hover":{color:"#333",background:"#fff"}},followBox:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},homeAdd:{marginTop:"50px"},kr:{borderLeft:"5px #000 solid",paddingLeft:"20px",marginBottom:"10px"},bubbles:{flex:0,paddingRight:"10px",paddingTop:"10px"}}}))(ye),Ee=a(80),we=a.n(Ee),ke=a(81),xe=a.n(ke),je=a(104),Oe=a.n(je),Se=a(105),Re=a.n(Se),Ce=a(82),Pe=a.n(Ce),De=a(213),Ie=a(203),Fe=a(198),Ne=a(152),Ke=a(193),Me=a(216),Te=a(209),Be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleUpdateText=function(e){a.setState({currentCount:e.target.value.length}),a.props.onChange(e)},a.state={currentCount:0},a.handleUpdateText=a.handleUpdateText.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;this.setState({currentCount:t.length})}},{key:"componentDidMount",value:function(){this.setState({currentCount:this.props.value.length})}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(I.a,{required:this.props.required,id:this.props.id,label:this.props.label,onChange:this.handleUpdateText,value:this.props.value,variant:this.props.variant,fullWidth:this.props.fullWidth,inputProps:this.props.inputProps,multiline:this.props.multiline,rows:this.props.rows,className:this.props.className,helperText:this.state.currentCount+"/"+this.props.inputProps.maxLength,FormHelperTextProps:this.state.currentCount/this.props.inputProps.maxLength<.8?{className:e.root}:{className:e.root,error:!0}})}}]),t}(i.a.Component),ze=Object(f.a)((function(e){return{root:{position:"absolute",right:"5px",bottom:"5px",margin:"0px !important"}}}))(Be),Ue=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).addKR=function(e){a.setState((function(e){var t=e.keyResults;return t.push({id:t.length,result:"",metric:""}),Object(h.a)({},e,{keyResults:t})}))},a.changeCategory=function(e){var t=e.target.value;a.setState({objective:Object(h.a)({},a.state.objective,{category:t})})},a.deleteKR=function(e){var t=a.state.keyResults.filter((function(t){return t.id!==e}));a.setState({keyResults:t})},a.changeTitle=function(e){a.setState({objective:Object(h.a)({},a.state.objective,{title:e.target.value})})},a.changeDescription=function(e){a.setState({objective:Object(h.a)({},a.state.objective,{description:e.target.value})})},a.changeFailureMode=function(e){a.setState({objective:Object(h.a)({},a.state.objective,{failureMode:e.target.value})})},a.changeKRResult=function(e,t){var n=a.state.keyResults.map((function(a,n){return a.id===t&&(a.result=e.target.value),a}));a.setState({keyResults:n})},a.changeKRMetric=function(e,t){var n=a.state.keyResults.map((function(a,n){return a.id===t&&(a.metric=e.target.value),a}));a.setState({keyResults:n})};var n=e.showOKR,i={id:n.id,title:n.title,description:n.description,failureMode:n.failureMode,category:n.category},l=[];return n.keyResults.forEach((function(e,t){l.push({id:t,result:e.result,metric:e.metric})})),a.state={objective:i,keyResults:l},a.addKR=a.addKR.bind(Object(p.a)(a)),a.deleteKR=a.deleteKR.bind(Object(p.a)(a)),a.changeCategory=a.changeCategory.bind(Object(p.a)(a)),a.changeTitle=a.changeTitle.bind(Object(p.a)(a)),a.changeDescription=a.changeDescription.bind(Object(p.a)(a)),a.changeFailureMode=a.changeFailureMode.bind(Object(p.a)(a)),a.changeKRResult=a.changeKRResult.bind(Object(p.a)(a)),a.changeKRMetric=a.changeKRMetric.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.showOKR,a={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category},n=[];t.keyResults.forEach((function(e,t){n.push({id:t,result:e.result,metric:e.metric})})),this.setState({objective:a,keyResults:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.openDialog,l=t.handleCloseDialog;return i.a.createElement(De.a,{fullScreen:!0,open:n,onClose:function(){return l("old",e.state.objective,e.state.keyResults)}},i.a.createElement(Ie.a,{className:a.appBar},i.a.createElement(Fe.a,{className:a.toolBar},i.a.createElement(Ne.a,{edge:"start",color:"inherit",onClick:function(){return l("old",e.state.objective,e.state.keyResults)},"aria-label":"close"},i.a.createElement(xe.a,null)),i.a.createElement(w.a,{variant:"h6",className:a.title},"Edit OKR"),i.a.createElement(j.a,{startIcon:i.a.createElement(Pe.a,null),autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return l("new",e.state.objective,e.state.keyResults)}},"Save"))),i.a.createElement(b.a,{container:!0,direction:"row",justify:"center",className:a.form,spacing:3},i.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),i.a.createElement(b.a,{container:!0,item:!0,xs:12,sm:12,md:8,lg:6,xl:6,spacing:3,justify:"center"},i.a.createElement(w.a,{variant:"overline",className:a.obj},"Objective"),i.a.createElement(b.a,{item:!0,container:!0,direction:"row",spacing:3,alignItems:"center",justify:"space-between"},i.a.createElement(b.a,{item:!0,xs:8},i.a.createElement(ze,{required:!0,id:"outlined-required",label:"Objective",onChange:this.changeTitle,value:this.state.objective.title,variant:"outlined",fullWidth:!0,inputProps:{maxLength:70}})),i.a.createElement(b.a,{item:!0,xs:4},i.a.createElement(Ke.a,{variant:"outlined",className:a.formControl},i.a.createElement(Me.a,{id:"demo-simple-select-outlined-label",className:a.category},"Category *"),i.a.createElement(Te.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.objective.category,onChange:this.changeCategory},i.a.createElement(E.a,{value:"relationships"},"Relationships"),i.a.createElement(E.a,{value:"fitness"},"Fitness"),i.a.createElement(E.a,{value:"work"},"Work"),i.a.createElement(E.a,{value:"creative"},"Creative"),i.a.createElement(E.a,{value:"other"},"Other"))))),i.a.createElement(ze,{required:!0,id:"outlined-required-decription",label:"Description",onChange:this.changeDescription,value:this.state.objective.description,variant:"outlined",fullWidth:!0,multiline:!0,rows:2,inputProps:{maxLength:140}}),i.a.createElement(w.a,{variant:"overline",className:a.obj},"Key Results"),this.state.keyResults.map((function(t,n){return i.a.createElement(b.a,{container:!0,direction:"row",style:{padding:"10px"},key:t.id,alignItems:"center"},i.a.createElement(b.a,{item:!0,container:!0,justify:"center",xs:1,key:n},i.a.createElement(y.a,{variant:"rounded",className:a.dark,key:n},i.a.createElement(we.a,null))),i.a.createElement(b.a,{item:!0,xs:7},i.a.createElement(ze,{required:!0,label:"Key Result",onChange:function(a){return e.changeKRResult(a,t.id)},value:t.result,variant:"outlined",style:{width:"100%"},fullWidth:!0,inputProps:{maxLength:140}})),i.a.createElement(b.a,{item:!0,xs:3},i.a.createElement(ze,{required:!0,label:"System Metric",onChange:function(a){return e.changeKRMetric(a,t.id)},value:t.metric,variant:"outlined",style:{width:"100%"},inputProps:{maxLength:3}})),i.a.createElement(b.a,{container:!0,justify:"center",item:!0,xs:1},i.a.createElement(Oe.a,{fontSize:"small",onClick:function(){return e.deleteKR(t.id)},className:a.buttonify})))})),i.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",style:{margin:"20px"}},i.a.createElement(b.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},i.a.createElement(se.a,{color:"primary","aria-label":"add",className:a.darkBackground,onClick:this.addKR},i.a.createElement($.a,null)),i.a.createElement(w.a,{variant:"caption"},"Add New Key Result")),i.a.createElement(ze,{required:!0,id:"outlined-required-failure-mode",label:"Possible Failure Mode",onChange:this.changeFailureMode,value:this.state.objective.failureMode,variant:"outlined",className:a.fail,fullWidth:!0,multiline:!0,rows:2,inputProps:{maxLength:140}}),i.a.createElement(b.a,{container:!0,direction:"row",justify:"space-evenly",style:{paddingTop:"50px"}},i.a.createElement(j.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:i.a.createElement(xe.a,null),onClick:function(){return l("old",e.state.objective,e.state.keyResults)}},"Cancel"),i.a.createElement(j.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:i.a.createElement(Re.a,null),onClick:function(){return l("delete",e.state.objective,e.state.keyResults)}},"Delete"),i.a.createElement(j.a,{variant:"contained",color:"primary",className:a.darkBackground,startIcon:i.a.createElement(Pe.a,null),onClick:function(){return l("new",e.state.objective,e.state.keyResults)}},"Save")))),i.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})))}}]),t}(i.a.Component),Le=Object(f.a)((function(e){return{root:{background:"#eaeff0",padding:"12px"},bold:{fontWeight:800,padding:"10px"},tableCenter:{display:"flex",justifyContent:"center",alignItems:"center"},heading:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"},col:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",flexDirection:"row",width:"100%"},row:{display:"flex",flexDirection:"column",alignItems:"flex-start"},brumb:{padding:20},bound:{borderRadius:"5px",border:"1px solid #aaa",padding:"10px"},goal:{fontWeight:800,fontSize:15},goalMetric:{fontSize:10},description:{paddingBottom:"20px"},fail:{marginTop:"10px"},darkBackground:{background:"#333","&:hover":{color:"#333",background:"#fff"}},dark:{background:"#333"},appBar:{position:"relative",background:"#333"},toolBar:{justifyContent:"space-between"},form:{padding:"50px"},category:{background:"#fff",padding:"1px"},formControl:{width:"100%"},obj:{paddingTop:"30px",fontSize:"20px",letterSpacing:"10px",textAlign:"center",width:"100%"},buttonify:{cursor:"pointer"}}}))(Ue),We=a(76),Ve=a.n(We);Ve.a.initializeApp({apiKey:"AIzaSyAHL0vbcWUxeE542F-ROGxw-4IG2OLM9EM",authDomain:"okru-4036a.firebaseapp.com",databaseURL:"https://okru-4036a.firebaseio.com",projectId:"okru-4036a",storageBucket:"okru-4036a.appspot.com",messagingSenderId:"323122678619",appId:"1:323122678619:web:f0624f8e6e26013509287e",measurementId:"G-LGV47H0SJQ"}),Ve.a.analytics();var qe=Ve.a,Ae=a(83),He=a.n(Ae),Qe=a(106),Ye=a.n(Qe),Ge=a(147),Je=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFollow=function(e){if(a.state.isFollowing){a.setState({isFollowing:!a.state.isFollowing});var t=Object.keys(a.state.followlist).filter((function(e){return a.state.followlist[e]==a.state.userBeingViewed}));qe.database().ref(a.deployment+"/userlist/"+a.state.user.uid+"/"+t).remove()}else{a.setState({isFollowing:!a.state.isFollowing}),qe.database().ref(a.deployment+"/userlist/"+a.state.user.uid).push().set(a.state.userBeingViewed)}},a.handleCloseDialog=function(e,t,n){var i=a.state.showDialogContent,l={id:t.id,title:t.title,description:t.description,failureMode:t.failureMode,category:t.category,keyResults:n},r=a.state.curUserOKRs;null===a.state.showDialogContent?"new"===e&&(l.id=r.length,r.push(l)):("delete"===e&&r.splice(i,1),"old"===e?r[i]=a.state.editOKR:"new"===e&&(r[i]=l)),a.setState(Object(h.a)({},a.state,{showDialog:!1,curUserOKRs:r})),qe.database().ref(a.deployment+"/okrs/"+a.state.user.uid).set(Object(h.a)({},r))},a.handleOpenDialog=function(e){a.setState({showDialog:!0}),a.setState({showDialogContent:e}),a.setState({editOKR:a.state.curUserOKRs[e]}),null===e?a.setState({dialogContent:a.state.defaultDialogContent}):a.setState({dialogContent:a.state.curUserOKRs[e]})},a.updateProgress=function(e,t,n){console.log("updateprogress",e,t,n);var i=a.state.curUserOKRs,l=i[e],r=l.keyResults[t],o=r.progress.map((function(e,t){return t!==n?e:(e+1)%4})),s=l.keyResults.map((function(e,a){return a!==t?e:Object(h.a)({},r,{progress:o})})),c=i.map((function(t,a){return a!==e?t:Object(h.a)({},l,{keyResults:s})}));a.setState({curUserOKRs:c}),qe.database().ref(a.deployment+"/okrs/"+a.state.user.uid).set(Object(h.a)({},c))},a.navHandleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.navHandleClose=function(e){a.setState({anchorEl:null})},a.navSignin=function(){window.location.href="/"};return a.uiConfig={signInFlow:"popup",signInOptions:[qe.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},a.state=Object(h.a)({isSignedIn:!1,loggedInUser:null,showDialog:!1,showDialogContent:null,curUserOKRs:[],selfView:!1,userlist:[],followlist:{},followerslist:{},isFollowing:!1,userRequested:new URLSearchParams(window.location.search).get("user"),userBeingViewed:new URLSearchParams(window.location.search).get("user"),quarter:"Q1",year:"2020"},Ge),a.handleCloseDialog=a.handleCloseDialog.bind(Object(p.a)(a)),a.handleOpenDialog=a.handleOpenDialog.bind(Object(p.a)(a)),a.handleFollow=a.handleFollow.bind(Object(p.a)(a)),a.signOut=a.signOut.bind(Object(p.a)(a)),a.updateProgress=a.updateProgress.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"signOut",value:function(){this.setState({isSignedIn:!1}),qe.auth().signOut()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.deployment="prod",qe.auth().onAuthStateChanged((function(t){if(null!==t&&(e.setState({isSignedIn:!!t}),e._isMounted)){e.setState({user:t}),console.log(e.deployment);var a=qe.database().ref(e.deployment+"/users"),n=t.email.split("@")[0].replace(".","");e.setState({loggedInUser:n}),a.child(t.uid).once("value",(function(a){if(a.exists());else{var i={name:t.displayName,firstName:t.displayName.split(" ")[0],photoURL:t.photoURL,email:t.email,uid:t.uid,userID:n};qe.database().ref(e.deployment+"/users/"+t.uid).set(i),qe.database().ref(e.deployment+"/userlist/all/"+t.uid).set(n)}qe.database().ref(e.deployment+"/users/"+t.uid).on("value",(function(a){e.setState({curUser:a.val()},(function(){null===e.state.userRequested?(e.setState({selfView:!0}),e.setState({userBeingViewed:n}),qe.database().ref(e.deployment+"/okrs").child(t.uid).once("value",(function(t){null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){}))}))):qe.database().ref(e.deployment+"/userlist/all").once("value",(function(t){var a=t.val(),i=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==i&&null!==i&&qe.database().ref(e.deployment+"/okrs").child(i).once("value",(function(t){e.state.userRequested===n?e.setState({selfView:!0}):e.setState({selfView:!1}),null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){}))}))})),qe.database().ref(e.deployment+"/userlist/"+t.uid).on("value",(function(t){null!==t.val()?(e.setState({followlist:t.val()},(function(){})),Object.values(t.val()).indexOf(e.state.userBeingViewed)>=0&&e.setState({isFollowing:!0})):e.setState({followlist:{}})})),qe.database().ref(e.deployment+"/userlist").once("value",(function(t){var a=t.val(),n=a.all,i={};null!==a?(Object.keys(a).filter((function(t){if("all"!==t){var l=a[t];if(Object.values(l).includes(e.state.loggedInUser))return i[t]=n[t],t}})),e.setState({followerslist:i})):e.setState({followerslist:{}})}))}))}))}))}})),this.state.isSignedIn||null===this.state.userRequested||qe.database().ref(this.deployment+"/userlist/all").once("value",(function(t){var a=t.val(),n=Object.keys(a).find((function(t){return a[t]===e.state.userRequested}));void 0!==n&&null!==n&&qe.database().ref(e.deployment+"/okrs").child(n).once("value",(function(t){e.setState({selfView:!1}),null!==t.val()&&e.setState({curUserOKRs:t.val()},(function(){}))}))})),qe.database().ref(this.deployment+"/userlist/all").once("value",(function(t){null!==t.val()&&e.setState({userlist:Object.values(t.val())},(function(){}))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.theme;return i.a.createElement("div",{className:a.root},this.state.isSignedIn||null!==this.state.userRequested?i.a.createElement(b.a,{container:!0,direction:"column"},this.state.user&&this.state.isSignedIn&&this.state.user.photoURL?i.a.createElement(y.a,{className:a.accountButton,alt:"Remy Sharp",src:this.state.user.photoURL,onClick:this.navHandleClick}):i.a.createElement(He.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.navHandleClick,className:a.accountButton,fontSize:"large"}),i.a.createElement(v.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.navHandleClose},this.state.isSignedIn?i.a.createElement(E.a,{onClick:function(){console.log("logged out!"),e.signOut(),e.setState({isSignedIn:!1})}},"Logout"):i.a.createElement(E.a,{onClick:this.navSignin},"Login")),i.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"row"},i.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3}),i.a.createElement(b.a,{item:!0,xs:12,sm:12,md:8,lg:6,xl:6},i.a.createElement(w.a,{variant:"h1",className:a.jumbo},i.a.createElement(k.a,{href:"/",underline:"none",color:"textPrimary"},"okru"))),i.a.createElement(b.a,{item:!0,xs:!1,sm:!1,md:2,lg:3,xl:3})),i.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"row",justify:"center",xs:12,sm:12,md:12,lg:12,xl:12},i.a.createElement(b.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1}),i.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:7,lg:7,xl:7},i.a.createElement(ve,{okrList:this.state.curUserOKRs,handleOpenDialog:this.handleOpenDialog,selfView:this.state.selfView,isFollowing:this.state.isFollowing,userBeingViewed:this.state.userBeingViewed,handleFollow:this.handleFollow,isSignedIn:this.state.isSignedIn,quarter:this.state.quarter,year:this.state.year,updateProgress:this.updateProgress})),i.a.createElement(b.a,{container:!0,item:!0,spacing:3,direction:"column",xs:12,sm:12,md:3,lg:3,xl:3},i.a.createElement(b.a,{item:!0},i.a.createElement(M,{following:this.state.userlist,name:"All Users",initText:"Loading Users..."})),this.state.isSignedIn?i.a.createElement(b.a,null,i.a.createElement(b.a,{item:!0},i.a.createElement(M,{following:Object.values(this.state.followlist),name:"Following",initText:"You're not following anyone!"})),i.a.createElement(b.a,{item:!0},i.a.createElement(M,{following:Object.values(this.state.followerslist),name:"Followers",initText:"You do not have any followers yet!"}))):""),i.a.createElement(b.a,{container:!0,item:!0,spacing:3,xs:!1,sm:!1,md:1,lg:1,xl:1})),this.state.selfView?i.a.createElement(Le,{openDialog:this.state.showDialog,handleCloseDialog:this.handleCloseDialog,showOKR:this.state.dialogContent}):""):i.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},i.a.createElement(w.a,{variant:"h1",className:a.jumbo},i.a.createElement(k.a,{href:"/",underline:"none",color:"textPrimary"},"okru")),i.a.createElement(w.a,{variant:"caption"},"Set Personal OKRs, Be Accountable to Friends"),i.a.createElement(w.a,{variant:"caption"},"Become a Better Version of You"),i.a.createElement(Ye.a,{uiConfig:this.uiConfig,firebaseAuth:qe.auth()}),i.a.createElement(x.a,{style:{width:"30%",margin:"30px"}}),i.a.createElement(b.a,{container:!0,direction:"column",item:!0,xs:10,sm:6,md:6,lg:4,xl:4},i.a.createElement(w.a,{variant:"subtitle1"},"This is a ",i.a.createElement("b",null,i.a.createElement("i",null,"Measure What Matters"))," meets ",i.a.createElement("b",null,i.a.createElement("i",null,"Elephant In The Brain"))," meets ",i.a.createElement("b",null,i.a.createElement("i",null,"Atomic Habits"))," effort to use personal OKRs that track System Metrics and positively decieve our silly brains. You can set your quarterly OKRs, pre-commit metrics, estimate possible failure modes and follow your friends."),i.a.createElement(w.a,{variant:"overline"},"More features are coming soon!"),i.a.createElement(j.a,{autoFocus:!0,color:"inherit",variant:"outlined",onClick:function(){return window.location.href="/?user=vivekaithal44"}},"See a sample OKR"))))}}]),t}(i.a.Component),_e=Object(f.a)((function(e){return{root:{background:"#fff",flexGrow:1,textAlign:"center",minHeight:"100vh",margin:"0px"},jumbo:{fontWeight:600,cursor:"pointer"},dark:{background:"#333"},accountButton:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"}}}))(Je),$e=(a(148),Object(m.a)({palette:{primary:{main:"#1976d2",light:"rgb(71, 145, 219)",dark:"rgb(17, 82, 147)",contrastText:"#fff"},secondary:{main:"rgb(220, 0, 78)",light:"rgb(227, 51, 113)",dark:"rgb(154, 0, 54)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},chips:{relationships:"#c0392b",fitness:"#f39c12",work:"#2980b9",creative:"#16a085",other:"#2c3e50"}}})),Xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={currentPage:window.location.pathname},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return"/"===this.state.currentPage?i.a.createElement(g.a,{theme:$e},i.a.createElement(_e,null)):"/account"===this.state.currentPage?i.a.createElement(g.a,{theme:$e},i.a.createElement(_e,null)):void 0}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(Xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[120,1,2]]]);
//# sourceMappingURL=main.b6f5ea8e.chunk.js.map